!function(n,t){"object"==typeof exports&&typeof module<"u"?module.exports=t(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],t):(n=typeof globalThis<"u"?globalThis:n||self).bootstrap=t(n.Popper)}(void 0,function(n){"use strict";function t(_){if(_&&_.__esModule)return _;const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(_)for(const u in _)if("default"!==u){const m=Object.getOwnPropertyDescriptor(_,u);Object.defineProperty(l,u,m.get?m:{enumerable:!0,get:()=>_[u]})}return l.default=_,Object.freeze(l)}const e=t(n),o="transitionend",c=_=>{let l=_.getAttribute("data-bs-target");if(!l||"#"===l){let u=_.getAttribute("href");if(!u||!u.includes("#")&&!u.startsWith("."))return null;u.includes("#")&&!u.startsWith("#")&&(u=`#${u.split("#")[1]}`),l=u&&"#"!==u?u.trim():null}return l},h=_=>{const l=c(_);return l&&document.querySelector(l)?l:null},d=_=>{const l=c(_);return l?document.querySelector(l):null},g=_=>{_.dispatchEvent(new Event(o))},p=_=>!(!_||"object"!=typeof _)&&(typeof _.jquery<"u"&&(_=_[0]),typeof _.nodeType<"u"),b=_=>p(_)?_.jquery?_[0]:_:"string"==typeof _&&_.length>0?document.querySelector(_):null,x=_=>{if(!p(_)||0===_.getClientRects().length)return!1;const l="visible"===getComputedStyle(_).getPropertyValue("visibility"),u=_.closest("details:not([open])");if(!u)return l;if(u!==_){const m=_.closest("summary");if(m&&m.parentNode!==u||null===m)return!1}return l},y=_=>!(_&&_.nodeType===Node.ELEMENT_NODE&&!_.classList.contains("disabled"))||(typeof _.disabled<"u"?_.disabled:_.hasAttribute("disabled")&&"false"!==_.getAttribute("disabled")),E=_=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof _.getRootNode){const l=_.getRootNode();return l instanceof ShadowRoot?l:null}return _ instanceof ShadowRoot?_:_.parentNode?E(_.parentNode):null},v=()=>{},w=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,T=[],D=()=>"rtl"===document.documentElement.dir,O=_=>{(_=>{"loading"===document.readyState?(T.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of T)l()}),T.push(_)):_()})(()=>{const l=w();if(l){const u=_.NAME,m=l.fn[u];l.fn[u]=_.jQueryInterface,l.fn[u].Constructor=_,l.fn[u].noConflict=()=>(l.fn[u]=m,_.jQueryInterface)}})},P=_=>{"function"==typeof _&&_()},I=(_,l,u=!0)=>{if(!u)return void P(_);const A=(_=>{if(!_)return 0;let{transitionDuration:l,transitionDelay:u}=window.getComputedStyle(_);const m=Number.parseFloat(l),A=Number.parseFloat(u);return m||A?(l=l.split(",")[0],u=u.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(u))):0})(l)+5;let k=!1;const M=({target:$})=>{$===l&&(k=!0,l.removeEventListener(o,M),P(_))};l.addEventListener(o,M),setTimeout(()=>{k||g(l)},A)},N=(_,l,u,m)=>{const A=_.length;let k=_.indexOf(l);return-1===k?!u&&m?_[A-1]:_[0]:(k+=u?1:-1,m&&(k=(k+A)%A),_[Math.max(0,Math.min(k,A-1))])},F=/[^.]*(?=\..*)\.|.*/,q=/\..*/,st=/::\d+$/,z={};let W=1;const Y={mouseenter:"mouseover",mouseleave:"mouseout"},ct=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Q(_,l){return l&&`${l}::${W++}`||_.uidEvent||W++}function At(_){const l=Q(_);return _.uidEvent=l,z[l]=z[l]||{},z[l]}function Pt(_,l,u=null){return Object.values(_).find(m=>m.callable===l&&m.delegationSelector===u)}function Nt(_,l,u){const m="string"==typeof l,A=m?u:l||u;let k=fi(_);return ct.has(k)||(k=_),[m,A,k]}function It(_,l,u,m,A){if("string"!=typeof l||!_)return;let[k,M,$]=Nt(l,u,m);var mh;l in Y&&(mh=M,M=function(ue){if(!ue.relatedTarget||ue.relatedTarget!==ue.delegateTarget&&!ue.delegateTarget.contains(ue.relatedTarget))return mh.call(this,ue)});const ot=At(_),ht=ot[$]||(ot[$]={}),U=Pt(ht,M,k?u:null);if(U)return void(U.oneOff=U.oneOff&&A);const mt=Q(M,l.replace(F,"")),yt=k?function Lt(_,l,u){return function m(A){const k=_.querySelectorAll(l);for(let{target:M}=A;M&&M!==this;M=M.parentNode)for(const $ of k)if($===M)return Ss(A,{delegateTarget:M}),m.oneOff&&C.off(_,A.type,l,u),u.apply(M,[A])}}(_,u,M):function ie(_,l){return function u(m){return Ss(m,{delegateTarget:_}),u.oneOff&&C.off(_,m.type,l),l.apply(_,[m])}}(_,M);yt.delegationSelector=k?u:null,yt.callable=M,yt.oneOff=A,yt.uidEvent=mt,ht[mt]=yt,_.addEventListener($,yt,k)}function Tt(_,l,u,m,A){const k=Pt(l[u],m,A);k&&(_.removeEventListener(u,k,Boolean(A)),delete l[u][k.uidEvent])}function wa(_,l,u,m){const A=l[u]||{};for(const k of Object.keys(A))if(k.includes(m)){const M=A[k];Tt(_,l,u,M.callable,M.delegationSelector)}}function fi(_){return _=_.replace(q,""),Y[_]||_}const C={on(_,l,u,m){It(_,l,u,m,!1)},one(_,l,u,m){It(_,l,u,m,!0)},off(_,l,u,m){if("string"!=typeof l||!_)return;const[A,k,M]=Nt(l,u,m),$=M!==l,ot=At(_),ht=ot[M]||{},U=l.startsWith(".");if(typeof k<"u"){if(!Object.keys(ht).length)return;Tt(_,ot,M,k,A?u:null)}else{if(U)for(const mt of Object.keys(ot))wa(_,ot,mt,l.slice(1));for(const mt of Object.keys(ht)){const yt=mt.replace(st,"");if(!$||l.includes(yt)){const we=ht[mt];Tt(_,ot,M,we.callable,we.delegationSelector)}}}},trigger(_,l,u){if("string"!=typeof l||!_)return null;const m=w();let M=null,$=!0,ot=!0,ht=!1;l!==fi(l)&&m&&(M=m.Event(l,u),m(_).trigger(M),$=!M.isPropagationStopped(),ot=!M.isImmediatePropagationStopped(),ht=M.isDefaultPrevented());let U=new Event(l,{bubbles:$,cancelable:!0});return U=Ss(U,u),ht&&U.preventDefault(),ot&&_.dispatchEvent(U),U.defaultPrevented&&M&&M.preventDefault(),U}};function Ss(_,l){for(const[u,m]of Object.entries(l||{}))try{_[u]=m}catch{Object.defineProperty(_,u,{configurable:!0,get:()=>m})}return _}const Rt=new Map,ws={set(_,l,u){Rt.has(_)||Rt.set(_,new Map);const m=Rt.get(_);m.has(l)||0===m.size?m.set(l,u):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(m.keys())[0]}.`)},get:(_,l)=>Rt.has(_)&&Rt.get(_).get(l)||null,remove(_,l){if(!Rt.has(_))return;const u=Rt.get(_);u.delete(l),0===u.size&&Rt.delete(_)}};function gi(_){if("true"===_)return!0;if("false"===_)return!1;if(_===Number(_).toString())return Number(_);if(""===_||"null"===_)return null;if("string"!=typeof _)return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function Cs(_){return _.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const St={setDataAttribute(_,l,u){_.setAttribute(`data-bs-${Cs(l)}`,u)},removeDataAttribute(_,l){_.removeAttribute(`data-bs-${Cs(l)}`)},getDataAttributes(_){if(!_)return{};const l={},u=Object.keys(_.dataset).filter(m=>m.startsWith("bs")&&!m.startsWith("bsConfig"));for(const m of u){let A=m.replace(/^bs/,"");A=A.charAt(0).toLowerCase()+A.slice(1,A.length),l[A]=gi(_.dataset[m])}return l},getDataAttribute:(_,l)=>gi(_.getAttribute(`data-bs-${Cs(l)}`))};class be{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,u){const m=p(u)?St.getDataAttribute(u,"config"):{};return{...this.constructor.Default,..."object"==typeof m?m:{},...p(u)?St.getDataAttributes(u):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,u=this.constructor.DefaultType){for(const m of Object.keys(u)){const A=u[m],k=l[m],M=p(k)?"element":null==(_=k)?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(A).test(M))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${m}" provided type "${M}" but expected type "${A}".`)}var _}}class gt extends be{constructor(l,u){super(),(l=b(l))&&(this._element=l,this._config=this._getConfig(u),ws.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ws.remove(this._element,this.constructor.DATA_KEY),C.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,u,m=!0){I(l,u,m)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return ws.get(b(l),this.DATA_KEY)}static getOrCreateInstance(l,u={}){return this.getInstance(l)||new this(l,"object"==typeof u?u:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const je=(_,l="hide")=>{const m=_.NAME;C.on(document,`click.dismiss${_.EVENT_KEY}`,`[data-bs-dismiss="${m}"]`,function(A){if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),y(this))return;const k=d(this)||this.closest(`.${m}`);_.getOrCreateInstance(k)[l]()})},pi=".bs.alert",Ma=`close${pi}`,ka=`closed${pi}`;class xe extends gt{static get NAME(){return"alert"}close(){if(C.trigger(this._element,Ma).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),C.trigger(this._element,ka),this.dispose()}static jQueryInterface(l){return this.each(function(){const u=xe.getOrCreateInstance(this);if("string"==typeof l){if(void 0===u[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);u[l](this)}})}}je(xe,"close"),O(xe);const _i='[data-bs-toggle="button"]';class ye extends gt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const u=ye.getOrCreateInstance(this);"toggle"===l&&u[l]()})}}C.on(document,"click.bs.button.data-api",_i,_=>{_.preventDefault();const l=_.target.closest(_i);ye.getOrCreateInstance(l).toggle()}),O(ye);const R={find:(_,l=document.documentElement)=>[].concat(...ft.prototype.querySelectorAll.call(l,_)),findOne:(_,l=document.documentElement)=>ft.prototype.querySelector.call(l,_),children:(_,l)=>[].concat(..._.children).filter(u=>u.matches(l)),parents(_,l){const u=[];let m=_.parentNode.closest(l);for(;m;)u.push(m),m=m.parentNode.closest(l);return u},prev(_,l){let u=_.previousElementSibling;for(;u;){if(u.matches(l))return[u];u=u.previousElementSibling}return[]},next(_,l){let u=_.nextElementSibling;for(;u;){if(u.matches(l))return[u];u=u.nextElementSibling}return[]},focusableChildren(_){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(u=>`${u}:not([tabindex^="-"])`).join(",");return this.find(l,_).filter(u=>!y(u)&&x(u))}},ne=".bs.swipe",Fa=`touchstart${ne}`,za=`touchmove${ne}`,Ba=`touchend${ne}`,Ha=`pointerdown${ne}`,Wa=`pointerup${ne}`,Xa={endCallback:null,leftCallback:null,rightCallback:null},Ga={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ye extends be{constructor(l,u){super(),this._element=l,l&&Ye.isSupported()&&(this._config=this._getConfig(u),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Xa}static get DefaultType(){return Ga}static get NAME(){return"swipe"}dispose(){C.off(this._element,ne)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),P(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const u=l/this._deltaX;this._deltaX=0,u&&P(u>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(C.on(this._element,Ha,l=>this._start(l)),C.on(this._element,Wa,l=>this._end(l)),this._element.classList.add("pointer-event")):(C.on(this._element,Fa,l=>this._start(l)),C.on(this._element,za,l=>this._move(l)),C.on(this._element,Ba,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $t=".bs.carousel",mi=".data-api",Ee="next",oe="prev",ae="left",Ke="right",tr=`slide${$t}`,Ds=`slid${$t}`,er=`keydown${$t}`,sr=`mouseenter${$t}`,ir=`mouseleave${$t}`,nr=`dragstart${$t}`,or=`load${$t}${mi}`,ar=`click${$t}${mi}`,bi="carousel",Ue="active",xi=".active",yi=".carousel-item",ur=xi+yi,mr={ArrowLeft:Ke,ArrowRight:ae},br={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},xr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class re extends gt{constructor(l,u){super(l,u),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=R.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===bi&&this.cycle()}static get Default(){return br}static get DefaultType(){return xr}static get NAME(){return"carousel"}next(){this._slide(Ee)}nextWhenVisible(){!document.hidden&&x(this._element)&&this.next()}prev(){this._slide(oe)}pause(){this._isSliding&&g(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void C.one(this._element,Ds,()=>this.cycle());this.cycle()}}to(l){const u=this._getItems();if(l>u.length-1||l<0)return;if(this._isSliding)return void C.one(this._element,Ds,()=>this.to(l));const m=this._getItemIndex(this._getActive());m!==l&&this._slide(l>m?Ee:oe,u[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&C.on(this._element,er,l=>this._keydown(l)),"hover"===this._config.pause&&(C.on(this._element,sr,()=>this.pause()),C.on(this._element,ir,()=>this._maybeEnableCycle())),this._config.touch&&Ye.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const m of R.find(".carousel-item img",this._element))C.on(m,nr,A=>A.preventDefault());this._swipeHelper=new Ye(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ae)),rightCallback:()=>this._slide(this._directionToOrder(Ke)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const u=mr[l.key];u&&(l.preventDefault(),this._slide(this._directionToOrder(u)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const u=R.findOne(xi,this._indicatorsElement);u.classList.remove(Ue),u.removeAttribute("aria-current");const m=R.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);m&&(m.classList.add(Ue),m.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const u=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=u||this._config.defaultInterval}_slide(l,u=null){if(this._isSliding)return;const m=this._getActive(),A=l===Ee,k=u||N(this._getItems(),m,A,this._config.wrap);if(k===m)return;const M=this._getItemIndex(k),$=we=>C.trigger(this._element,we,{relatedTarget:k,direction:this._orderToDirection(l),from:this._getItemIndex(m),to:M});if($(tr).defaultPrevented||!m||!k)return;const ht=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(M),this._activeElement=k;const U=A?"carousel-item-start":"carousel-item-end",mt=A?"carousel-item-next":"carousel-item-prev";k.classList.add(mt),m.classList.add(U),k.classList.add(U),this._queueCallback(()=>{k.classList.remove(U,mt),k.classList.add(Ue),m.classList.remove(Ue,mt,U),this._isSliding=!1,$(Ds)},m,this._isAnimated()),ht&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return R.findOne(ur,this._element)}_getItems(){return R.find(yi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return D()?l===ae?oe:Ee:l===ae?Ee:oe}_orderToDirection(l){return D()?l===oe?ae:Ke:l===oe?Ke:ae}static jQueryInterface(l){return this.each(function(){const u=re.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===u[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);u[l]()}}else u.to(l)})}}C.on(document,ar,"[data-bs-slide], [data-bs-slide-to]",function(_){const l=d(this);if(!l||!l.classList.contains(bi))return;_.preventDefault();const u=re.getOrCreateInstance(l),m=this.getAttribute("data-bs-slide-to");return m?(u.to(m),void u._maybeEnableCycle()):"next"===St.getDataAttribute(this,"slide")?(u.next(),void u._maybeEnableCycle()):(u.prev(),void u._maybeEnableCycle())}),C.on(window,or,()=>{const _=R.find('[data-bs-ride="carousel"]');for(const l of _)re.getOrCreateInstance(l)}),O(re);const ve=".bs.collapse",vr=`show${ve}`,Ar=`shown${ve}`,Tr=`hide${ve}`,Sr=`hidden${ve}`,wr=`click${ve}.data-api`,Ms="show",le="collapse",Xe="collapsing",Dr=`:scope .${le} .${le}`,ks='[data-bs-toggle="collapse"]',Pr={parent:null,toggle:!0},Nr={parent:"(null|element)",toggle:"boolean"};class ce extends gt{constructor(l,u){super(l,u),this._isTransitioning=!1,this._triggerArray=[];const m=R.find(ks);for(const A of m){const k=h(A),M=R.find(k).filter($=>$===this._element);null!==k&&M.length&&this._triggerArray.push(A)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Pr}static get DefaultType(){return Nr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter($=>$!==this._element).map($=>ce.getOrCreateInstance($,{toggle:!1}))),l.length&&l[0]._isTransitioning||C.trigger(this._element,vr).defaultPrevented)return;for(const $ of l)$.hide();const m=this._getDimension();this._element.classList.remove(le),this._element.classList.add(Xe),this._element.style[m]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const M=`scroll${m[0].toUpperCase()+m.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Xe),this._element.classList.add(le,Ms),this._element.style[m]="",C.trigger(this._element,Ar)},this._element,!0),this._element.style[m]=`${this._element[M]}px`}hide(){if(this._isTransitioning||!this._isShown()||C.trigger(this._element,Tr).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,this._element.classList.add(Xe),this._element.classList.remove(le,Ms);for(const A of this._triggerArray){const k=d(A);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([A],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Xe),this._element.classList.add(le),C.trigger(this._element,Sr)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Ms)}_configAfterMerge(l){return l.toggle=Boolean(l.toggle),l.parent=b(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(ks);for(const u of l){const m=d(u);m&&this._addAriaAndCollapsedClass([u],this._isShown(m))}}_getFirstLevelChildren(l){const u=R.find(Dr,this._config.parent);return R.find(l,this._config.parent).filter(m=>!u.includes(m))}_addAriaAndCollapsedClass(l,u){if(l.length)for(const m of l)m.classList.toggle("collapsed",!u),m.setAttribute("aria-expanded",u)}static jQueryInterface(l){const u={};return"string"==typeof l&&/show|hide/.test(l)&&(u.toggle=!1),this.each(function(){const m=ce.getOrCreateInstance(this,u);if("string"==typeof l){if(typeof m[l]>"u")throw new TypeError(`No method named "${l}"`);m[l]()}})}}C.on(document,wr,ks,function(_){("A"===_.target.tagName||_.delegateTarget&&"A"===_.delegateTarget.tagName)&&_.preventDefault();const l=h(this),u=R.find(l);for(const m of u)ce.getOrCreateInstance(m,{toggle:!1}).toggle()}),O(ce);const Ei="dropdown",Wt=".bs.dropdown",Os=".data-api",Rr="ArrowUp",Ai="ArrowDown",Vr=`hide${Wt}`,Fr=`hidden${Wt}`,zr=`show${Wt}`,Br=`shown${Wt}`,Ti=`click${Wt}${Os}`,Si=`keydown${Wt}${Os}`,Hr=`keyup${Wt}${Os}`,he="show",jt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Xr=`${jt}.${he}`,Ge=".dropdown-menu",Jr=D()?"top-end":"top-start",Zr=D()?"top-start":"top-end",tl=D()?"bottom-end":"bottom-start",el=D()?"bottom-start":"bottom-end",sl=D()?"left-start":"right-start",il=D()?"right-start":"left-start",al={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class pt extends gt{constructor(l,u){super(l,u),this._popper=null,this._parent=this._element.parentNode,this._menu=R.next(this._element,Ge)[0]||R.prev(this._element,Ge)[0]||R.findOne(Ge,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return al}static get DefaultType(){return rl}static get NAME(){return Ei}toggle(){return this._isShown()?this.hide():this.show()}show(){if(y(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!C.trigger(this._element,zr,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const m of[].concat(...document.body.children))C.on(m,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(he),this._element.classList.add(he),C.trigger(this._element,Br,l)}}hide(){!y(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!C.trigger(this._element,Vr,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))C.off(m,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(he),this._element.classList.remove(he),this._element.setAttribute("aria-expanded","false"),St.removeDataAttribute(this._menu,"popper"),C.trigger(this._element,Fr,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!p(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${Ei.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof e>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:p(this._config.reference)?l=b(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const u=this._getPopperConfig();this._popper=e.createPopper(l,this._menu,u)}_isShown(){return this._menu.classList.contains(he)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return sl;if(l.classList.contains("dropstart"))return il;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const u="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?u?Zr:Jr:u?el:tl}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(u=>Number.parseInt(u,10)):"function"==typeof l?u=>l(u,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(St.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,..."function"==typeof this._config.popperConfig?this._config.popperConfig(l):this._config.popperConfig}}_selectMenuItem({key:l,target:u}){const m=R.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(A=>x(A));m.length&&N(m,u,l===Ai,!m.includes(u)).focus()}static jQueryInterface(l){return this.each(function(){const u=pt.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof u[l]>"u")throw new TypeError(`No method named "${l}"`);u[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const u=R.find(Xr);for(const m of u){const A=pt.getInstance(m);if(!A||!1===A._config.autoClose)continue;const k=l.composedPath(),M=k.includes(A._menu);if(k.includes(A._element)||"inside"===A._config.autoClose&&!M||"outside"===A._config.autoClose&&M||A._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const $={relatedTarget:A._element};"click"===l.type&&($.clickEvent=l),A._completeHide($)}}static dataApiKeydownHandler(l){const u=/input|textarea/i.test(l.target.tagName),m="Escape"===l.key,A=[Rr,Ai].includes(l.key);if(!A&&!m||u&&!m)return;l.preventDefault();const k=this.matches(jt)?this:R.prev(this,jt)[0]||R.next(this,jt)[0]||R.findOne(jt,l.delegateTarget.parentNode),M=pt.getOrCreateInstance(k);if(A)return l.stopPropagation(),M.show(),void M._selectMenuItem(l);M._isShown()&&(l.stopPropagation(),M.hide(),k.focus())}}C.on(document,Si,jt,pt.dataApiKeydownHandler),C.on(document,Si,Ge,pt.dataApiKeydownHandler),C.on(document,Ti,pt.clearMenus),C.on(document,Hr,pt.clearMenus),C.on(document,Ti,jt,function(_){_.preventDefault(),pt.getOrCreateInstance(this).toggle()}),O(pt);const wi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ci=".sticky-top",qe="padding-right",Di="margin-right";class Ls{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,qe,u=>u+l),this._setElementAttributes(wi,qe,u=>u+l),this._setElementAttributes(Ci,Di,u=>u-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,qe),this._resetElementAttributes(wi,qe),this._resetElementAttributes(Ci,Di)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,u,m){const A=this.getWidth();this._applyManipulationCallback(l,M=>{if(M!==this._element&&window.innerWidth>M.clientWidth+A)return;this._saveInitialAttribute(M,u);const $=window.getComputedStyle(M).getPropertyValue(u);M.style.setProperty(u,`${m(Number.parseFloat($))}px`)})}_saveInitialAttribute(l,u){const m=l.style.getPropertyValue(u);m&&St.setDataAttribute(l,u,m)}_resetElementAttributes(l,u){this._applyManipulationCallback(l,A=>{const k=St.getDataAttribute(A,u);null!==k?(St.removeDataAttribute(A,u),A.style.setProperty(u,k)):A.style.removeProperty(u)})}_applyManipulationCallback(l,u){if(p(l))u(l);else for(const m of R.find(l,this._element))u(m)}}const Mi="backdrop",Oi=`mousedown.bs.${Mi}`,cl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Li extends be{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return cl}static get DefaultType(){return hl}static get NAME(){return Mi}show(l){if(!this._config.isVisible)return void P(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{P(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),P(l)})):P(l)}dispose(){this._isAppended&&(C.off(this._element,Oi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=b(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),C.on(l,Oi,()=>{P(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){I(l,this._getElement(),this._config.isAnimated)}}const Qe=".bs.focustrap",ul=`focusin${Qe}`,fl=`keydown.tab${Qe}`,Pi="backward",_l={autofocus:!0,trapElement:null},ml={autofocus:"boolean",trapElement:"element"};class Ni extends be{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return _l}static get DefaultType(){return ml}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),C.off(document,Qe),C.on(document,ul,l=>this._handleFocusin(l)),C.on(document,fl,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,C.off(document,Qe))}_handleFocusin(l){const{trapElement:u}=this._config;if(l.target===document||l.target===u||u.contains(l.target))return;const m=R.focusableChildren(u);0===m.length?u.focus():this._lastTabNavDirection===Pi?m[m.length-1].focus():m[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?Pi:"forward")}}const _t=".bs.modal",El=`hide${_t}`,vl=`hidePrevented${_t}`,Ii=`hidden${_t}`,Ri=`show${_t}`,Al=`shown${_t}`,Tl=`resize${_t}`,Sl=`click.dismiss${_t}`,wl=`mousedown.dismiss${_t}`,Cl=`keydown.dismiss${_t}`,Dl=`click${_t}.data-api`,$i="modal-open",Ps="modal-static",Nl={backdrop:!0,focus:!0,keyboard:!0},Il={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yt extends gt{constructor(l,u){super(l,u),this._dialog=R.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ls,this._addEventListeners()}static get Default(){return Nl}static get DefaultType(){return Il}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||C.trigger(this._element,Ri,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($i),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||C.trigger(this._element,El).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const l of[window,this._dialog])C.off(l,_t);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Li({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ni({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const u=R.findOne(".modal-body",this._dialog);u&&(u.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,C.trigger(this._element,Al,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){C.on(this._element,Cl,l=>{if("Escape"===l.key){if(this._config.keyboard)return l.preventDefault(),void this.hide();this._triggerBackdropTransition()}}),C.on(window,Tl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),C.on(this._element,wl,l=>{C.one(this._element,Sl,u=>{if(this._element===l.target&&this._element===u.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($i),this._resetAdjustments(),this._scrollBar.reset(),C.trigger(this._element,Ii)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(C.trigger(this._element,vl).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,m=this._element.style.overflowY;"hidden"===m||this._element.classList.contains(Ps)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(Ps),this._queueCallback(()=>{this._element.classList.remove(Ps),this._queueCallback(()=>{this._element.style.overflowY=m},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,u=this._scrollBar.getWidth(),m=u>0;if(m&&!l){const A=D()?"paddingLeft":"paddingRight";this._element.style[A]=`${u}px`}if(!m&&l){const A=D()?"paddingRight":"paddingLeft";this._element.style[A]=`${u}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,u){return this.each(function(){const m=Yt.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof m[l]>"u")throw new TypeError(`No method named "${l}"`);m[l](u)}})}}C.on(document,Dl,'[data-bs-toggle="modal"]',function(_){const l=d(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),C.one(l,Ri,A=>{A.defaultPrevented||C.one(l,Ii,()=>{x(this)&&this.focus()})});const u=R.findOne(".modal.show");u&&Yt.getInstance(u).hide(),Yt.getOrCreateInstance(l).toggle(this)}),je(Yt),O(Yt);const wt=".bs.offcanvas",Fi=".data-api",$l=`load${wt}${Fi}`,Bi="showing",Wi=".offcanvas.show",zl=`show${wt}`,Bl=`shown${wt}`,Hl=`hide${wt}`,ji=`hidePrevented${wt}`,Yi=`hidden${wt}`,Wl=`resize${wt}`,jl=`click${wt}${Fi}`,Yl=`keydown.dismiss${wt}`,Ul={backdrop:!0,keyboard:!0,scroll:!1},Xl={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ct extends gt{constructor(l,u){super(l,u),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ul}static get DefaultType(){return Xl}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||C.trigger(this._element,zl,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ls).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Bi),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Bi),C.trigger(this._element,Bl,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!C.trigger(this._element,Hl).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ls).reset(),C.trigger(this._element,Yi)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=Boolean(this._config.backdrop);return new Li({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{"static"!==this._config.backdrop?this.hide():C.trigger(this._element,ji)}:null})}_initializeFocusTrap(){return new Ni({trapElement:this._element})}_addEventListeners(){C.on(this._element,Yl,l=>{if("Escape"===l.key){if(!this._config.keyboard)return void C.trigger(this._element,ji);this.hide()}})}static jQueryInterface(l){return this.each(function(){const u=Ct.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===u[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);u[l](this)}})}}C.on(document,jl,'[data-bs-toggle="offcanvas"]',function(_){const l=d(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),y(this))return;C.one(l,Yi,()=>{x(this)&&this.focus()});const u=R.findOne(Wi);u&&u!==l&&Ct.getInstance(u).hide(),Ct.getOrCreateInstance(l).toggle(this)}),C.on(window,$l,()=>{for(const _ of R.find(Wi))Ct.getOrCreateInstance(_).show()}),C.on(window,Wl,()=>{for(const _ of R.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(_).position&&Ct.getOrCreateInstance(_).hide()}),je(Ct),O(Ct);const Gl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ql=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Jl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Zl=(_,l)=>{const u=_.nodeName.toLowerCase();return l.includes(u)?!Gl.has(u)||Boolean(Ql.test(_.nodeValue)||Jl.test(_.nodeValue)):l.filter(m=>m instanceof RegExp).some(m=>m.test(u))},Ki={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},sc={allowList:Ki,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ic={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},nc={entry:"(string|element|function|null)",selector:"(string|element)"};class oc extends be{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return sc}static get DefaultType(){return ic}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[A,k]of Object.entries(this._config.content))this._setContent(l,k,A);const u=l.children[0],m=this._resolvePossibleFunction(this._config.extraClass);return m&&u.classList.add(...m.split(" ")),u}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[u,m]of Object.entries(l))super._typeCheckConfig({selector:u,entry:m},nc)}_setContent(l,u,m){const A=R.findOne(m,l);if(A){if(!(u=this._resolvePossibleFunction(u)))return void A.remove();if(p(u))return void this._putElementInTemplate(b(u),A);if(this._config.html)return void(A.innerHTML=this._maybeSanitize(u));A.textContent=u}}_maybeSanitize(l){return this._config.sanitize?function tc(_,l,u){if(!_.length)return _;if(u&&"function"==typeof u)return u(_);const A=(new window.DOMParser).parseFromString(_,"text/html"),k=[].concat(...A.body.querySelectorAll("*"));for(const M of k){const $=M.nodeName.toLowerCase();if(!Object.keys(l).includes($)){M.remove();continue}const ot=[].concat(...M.attributes),ht=[].concat(l["*"]||[],l[$]||[]);for(const U of ot)Zl(U,ht)||M.removeAttribute(U.nodeName)}return A.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return"function"==typeof l?l(this):l}_putElementInTemplate(l,u){if(this._config.html)return u.innerHTML="",void u.append(l);u.textContent=l.textContent}}const rc=new Set(["sanitize","allowList","sanitizeFn"]),Ns="fade",Je="show",Xi="hide.bs.modal",Ae="hover",Is="focus",vc={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},Ac={allowList:Ki,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Tc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Kt extends gt{constructor(l,u){if(typeof e>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,u),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ac}static get DefaultType(){return Tc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),C.off(this._element.closest(".modal"),Xi,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=C.trigger(this._element,this.constructor.eventName("show")),m=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!m)return;this._disposePopper();const A=this._getTipElement();this._element.setAttribute("aria-describedby",A.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(A),C.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(A),A.classList.add(Je),"ontouchstart"in document.documentElement)for(const $ of[].concat(...document.body.children))C.on($,"mouseover",v);this._queueCallback(()=>{C.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!C.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Je),"ontouchstart"in document.documentElement)for(const A of[].concat(...document.body.children))C.off(A,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[Is]=!1,this._activeTrigger[Ae]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),C.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const u=this._getTemplateFactory(l).toHtml();if(!u)return null;u.classList.remove(Ns,Je),u.classList.add(`bs-${this.constructor.NAME}-auto`);const m=(_=>{do{_+=Math.floor(1e6*Math.random())}while(document.getElementById(_));return _})(this.constructor.NAME).toString();return u.setAttribute("id",m),this._isAnimated()&&u.classList.add(Ns),u}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new oc({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ns)}_isShown(){return this.tip&&this.tip.classList.contains(Je)}_createPopper(l){const u="function"==typeof this._config.placement?this._config.placement.call(this,l,this._element):this._config.placement,m=vc[u.toUpperCase()];return e.createPopper(this._element,l,this._getPopperConfig(m))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(u=>Number.parseInt(u,10)):"function"==typeof l?u=>l(u,this._element):l}_resolvePossibleFunction(l){return"function"==typeof l?l.call(this._element):l}_getPopperConfig(l){const u={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:m=>{this._getTipElement().setAttribute("data-popper-placement",m.state.placement)}}]};return{...u,..."function"==typeof this._config.popperConfig?this._config.popperConfig(u):this._config.popperConfig}}_setListeners(){const l=this._config.trigger.split(" ");for(const u of l)if("click"===u)C.on(this._element,this.constructor.eventName("click"),this._config.selector,m=>{this._initializeOnDelegatedTarget(m).toggle()});else if("manual"!==u){const m=this.constructor.eventName(u===Ae?"mouseenter":"focusin"),A=this.constructor.eventName(u===Ae?"mouseleave":"focusout");C.on(this._element,m,this._config.selector,k=>{const M=this._initializeOnDelegatedTarget(k);M._activeTrigger["focusin"===k.type?Is:Ae]=!0,M._enter()}),C.on(this._element,A,this._config.selector,k=>{const M=this._initializeOnDelegatedTarget(k);M._activeTrigger["focusout"===k.type?Is:Ae]=M._element.contains(k.relatedTarget),M._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},C.on(this._element.closest(".modal"),Xi,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,u){clearTimeout(this._timeout),this._timeout=setTimeout(l,u)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const u=St.getDataAttributes(this._element);for(const m of Object.keys(u))rc.has(m)&&delete u[m];return l={...u,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:b(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const u in this._config)this.constructor.Default[u]!==this._config[u]&&(l[u]=this._config[u]);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const u=Kt.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof u[l]>"u")throw new TypeError(`No method named "${l}"`);u[l]()}})}}O(Kt);const Dc={...Kt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Mc={...Kt.DefaultType,content:"(null|string|element|function)"};class Ze extends Kt{static get Default(){return Dc}static get DefaultType(){return Mc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const u=Ze.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof u[l]>"u")throw new TypeError(`No method named "${l}"`);u[l]()}})}}O(Ze);const Rs=".bs.scrollspy",Lc=`activate${Rs}`,Gi=`click${Rs}`,Pc=`load${Rs}.data-api`,de="active",$s="[href]",qi=".nav-link",$c=`${qi}, .nav-item > ${qi}, .list-group-item`,zc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Bc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Te extends gt{constructor(l,u){super(l,u),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return zc}static get DefaultType(){return Bc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=b(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(u=>Number.parseFloat(u))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(C.off(this._config.target,Gi),C.on(this._config.target,Gi,$s,l=>{const u=this._observableSections.get(l.target.hash);if(u){l.preventDefault();const m=this._rootElement||window,A=u.offsetTop-this._element.offsetTop;if(m.scrollTo)return void m.scrollTo({top:A,behavior:"smooth"});m.scrollTop=A}}))}_getNewObserver(){return new IntersectionObserver(u=>this._observerCallback(u),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const u=M=>this._targetLinks.get(`#${M.target.id}`),m=M=>{this._previousScrollData.visibleEntryTop=M.target.offsetTop,this._process(u(M))},A=(this._rootElement||document.documentElement).scrollTop,k=A>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=A;for(const M of l){if(!M.isIntersecting){this._activeTarget=null,this._clearActiveClass(u(M));continue}const $=M.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&$){if(m(M),!A)return}else!k&&!$&&m(M)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=R.find($s,this._config.target);for(const u of l){if(!u.hash||y(u))continue;const m=R.findOne(u.hash,this._element);x(m)&&(this._targetLinks.set(u.hash,u),this._observableSections.set(u.hash,m))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(de),this._activateParents(l),C.trigger(this._element,Lc,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))R.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(de);else for(const u of R.parents(l,".nav, .list-group"))for(const m of R.prev(u,$c))m.classList.add(de)}_clearActiveClass(l){l.classList.remove(de);const u=R.find(`${$s}.${de}`,l);for(const m of u)m.classList.remove(de)}static jQueryInterface(l){return this.each(function(){const u=Te.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===u[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);u[l]()}})}}C.on(window,Pc,()=>{for(const _ of R.find('[data-bs-spy="scroll"]'))Te.getOrCreateInstance(_)}),O(Te);const Ut=".bs.tab",Wc=`hide${Ut}`,jc=`hidden${Ut}`,Yc=`show${Ut}`,Kc=`shown${Ut}`,Uc=`click${Ut}`,Xc=`keydown${Ut}`,Gc=`load${Ut}`,qc="ArrowLeft",Qi="ArrowRight",Qc="ArrowUp",Ji="ArrowDown",Xt="active",Vs="show",Fs=":not(.dropdown-toggle)",tn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',zs=`.nav-link${Fs}, .list-group-item${Fs}, [role="tab"]${Fs}, ${tn}`,nh=`.${Xt}[data-bs-toggle="tab"], .${Xt}[data-bs-toggle="pill"], .${Xt}[data-bs-toggle="list"]`;class Gt extends gt{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),C.on(this._element,Xc,u=>this._keydown(u)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const u=this._getActiveElem(),m=u?C.trigger(u,Wc,{relatedTarget:l}):null;C.trigger(l,Yc,{relatedTarget:u}).defaultPrevented||m&&m.defaultPrevented||(this._deactivate(u,l),this._activate(l,u))}_activate(l,u){l&&(l.classList.add(Xt),this._activate(d(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),C.trigger(l,Kc,{relatedTarget:u})):l.classList.add(Vs)},l,l.classList.contains("fade")))}_deactivate(l,u){l&&(l.classList.remove(Xt),l.blur(),this._deactivate(d(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),C.trigger(l,jc,{relatedTarget:u})):l.classList.remove(Vs)},l,l.classList.contains("fade")))}_keydown(l){if(![qc,Qi,Qc,Ji].includes(l.key))return;l.stopPropagation(),l.preventDefault();const u=[Qi,Ji].includes(l.key),m=N(this._getChildren().filter(A=>!y(A)),l.target,u,!0);m&&(m.focus({preventScroll:!0}),Gt.getOrCreateInstance(m).show())}_getChildren(){return R.find(zs,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,u){this._setAttributeIfNotExists(l,"role","tablist");for(const m of u)this._setInitialAttributesOnChild(m)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const u=this._elemIsActive(l),m=this._getOuterElement(l);l.setAttribute("aria-selected",u),m!==l&&this._setAttributeIfNotExists(m,"role","presentation"),u||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const u=d(l);u&&(this._setAttributeIfNotExists(u,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(u,"aria-labelledby",`#${l.id}`))}_toggleDropDown(l,u){const m=this._getOuterElement(l);if(!m.classList.contains("dropdown"))return;const A=(k,M)=>{const $=R.findOne(k,m);$&&$.classList.toggle(M,u)};A(".dropdown-toggle",Xt),A(".dropdown-menu",Vs),m.setAttribute("aria-expanded",u)}_setAttributeIfNotExists(l,u,m){l.hasAttribute(u)||l.setAttribute(u,m)}_elemIsActive(l){return l.classList.contains(Xt)}_getInnerElement(l){return l.matches(zs)?l:R.findOne(zs,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const u=Gt.getOrCreateInstance(this);if("string"==typeof l){if(void 0===u[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);u[l]()}})}}C.on(document,Uc,tn,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),!y(this)&&Gt.getOrCreateInstance(this).show()}),C.on(window,Gc,()=>{for(const _ of R.find(nh))Gt.getOrCreateInstance(_)}),O(Gt);const Vt=".bs.toast",ah=`mouseover${Vt}`,rh=`mouseout${Vt}`,lh=`focusin${Vt}`,ch=`focusout${Vt}`,hh=`hide${Vt}`,dh=`hidden${Vt}`,uh=`show${Vt}`,fh=`shown${Vt}`,ts="show",es="showing",ph={animation:"boolean",autohide:"boolean",delay:"number"},_h={animation:!0,autohide:!0,delay:5e3};class Se extends gt{constructor(l,u){super(l,u),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _h}static get DefaultType(){return ph}static get NAME(){return"toast"}show(){C.trigger(this._element,uh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(ts,es),this._queueCallback(()=>{this._element.classList.remove(es),C.trigger(this._element,fh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!C.trigger(this._element,hh).defaultPrevented&&(this._element.classList.add(es),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(es,ts),C.trigger(this._element,dh)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ts),super.dispose()}isShown(){return this._element.classList.contains(ts)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,u){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=u;break;case"focusin":case"focusout":this._hasKeyboardInteraction=u}if(u)return void this._clearTimeout();const m=l.relatedTarget;this._element===m||this._element.contains(m)||this._maybeScheduleHide()}_setListeners(){C.on(this._element,ah,l=>this._onInteraction(l,!0)),C.on(this._element,rh,l=>this._onInteraction(l,!1)),C.on(this._element,lh,l=>this._onInteraction(l,!0)),C.on(this._element,ch,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const u=Se.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof u[l]>"u")throw new TypeError(`No method named "${l}"`);u[l](this)}})}}return je(Se),O(Se),{Alert:xe,Button:ye,Carousel:re,Collapse:ce,Dropdown:pt,Modal:Yt,Offcanvas:Ct,Popover:Ze,ScrollSpy:Te,Tab:Gt,Toast:Se,Tooltip:Kt}});import{r as bh,a as Ce,e as sn,c as nn,i as K,d as X,b as at,v as V,u as on,l as xh,f as fe,g as G,h as De,s as Ft,j as qt,k as B,_ as an,t as bt,m as yh,n as Eh,T as it,o as ss,p as is,H as ut,P as Dt,q as rn,w as ln,x as ge,y as cn,z as Qt,A as vh,B as Me,C as Bs,D as hn,E as tt,F as H,G as Ah,I as dn,J as un,K as Th,L as fn,M as gn,N as Sh,O as dt,Q as j,R as wh,S as nt,U as Hs,V as pn,W as Ch,X as Jt,Y as ns,Z as Zt,$ as os,a0 as J,a1 as Ws,a2 as et,a3 as pe,a4 as Dh,a5 as Mh,a6 as _n,a7 as as,a8 as mn,a9 as kh,aa as Oh,ab as rs,ac as Lh,ad as Ph,ae as bn,af as xn,ag as yn,ah as ls,ai as Nh,aj as zt,ak as Ih,al as Rh,am as $h,an as En,ao as Vh,ap as Fh,aq as zh,ar as Bh,as as Hh,at as js,au as ke,av as Wh,aw as te,ax as jh,ay as Oe,az as _e,aA as vn,aB as Yh,aC as An,aD as Kh,aE as Uh,aF as Mt,aG as Tn,aH as Sn,aI as Xh,aJ as Ys,aK as wn,aL as Ks,aM as Le,aN as Gh,aO as qh,aP as Qh}from"./chunks/helpers.segment.js";export{aL as Ticks,d as defaults}from"./chunks/helpers.segment.js";import"@kurkle/color";class Jh{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,i){const a=e.duration;e.listeners[i].forEach(r=>r({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(s-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=bh.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const o=s.items;let c,a=o.length-1,r=!1;for(;a>=0;--a)c=o[a],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),r=!0):(o[a]=o[o.length-1],o.pop());r&&(i.draw(),this._notify(i,s,t,"progress")),o.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Et=new Jh;const Cn="transparent",Zh={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const s=nn(n||Cn),i=s.valid&&nn(t||Cn);return i&&i.valid?i.mix(s,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Dn{constructor(t,e,s,i){const o=e[s];i=Ce([t.to,i,o,t.from]);const a=Ce([t.from,o,i]);this._active=!0,this._fn=t.fn||Zh[t.type||typeof a],this._easing=sn[t.easing]||sn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const i=this._target[this._prop],o=s-this._start,a=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ce([t.to,e,i,t.from]),this._from=Ce([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,i=this._prop,o=this._from,a=this._loop,r=this._to;let c;if(this._active=o!==r&&(a||e<s),!this._active)return this._target[i]=r,void this._notify(!0);e<0?this._target[i]=o:(c=e/s%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,r,c))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][e]()}}class Us{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!K(t))return;const e=Object.keys(X.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!K(o))return;const a={};for(const r of e)a[r]=o[r];(at(o.properties)&&o.properties||[i]).forEach(r=>{(r===i||!s.has(r))&&s.set(r,a)})})}_animateOptions(t,e){const s=e.options,i=ed(t,s);if(!i)return[];const o=this._createAnimations(i,s);return s.$shared&&td(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,e){const s=this._properties,i=[],o=t.$animations||(t.$animations={}),a=Object.keys(e),r=Date.now();let c;for(c=a.length-1;c>=0;--c){const h=a[c];if("$"===h.charAt(0))continue;if("options"===h){i.push(...this._animateOptions(t,e));continue}const d=e[h];let f=o[h];const g=s.get(h);if(f){if(g&&f.active()){f.update(g,d,r);continue}f.cancel()}g&&g.duration?(o[h]=f=new Dn(g,t,h,d),i.push(f)):t[h]=d}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const s=this._createAnimations(t,e);return s.length?(Et.add(this._chart,s),!0):void 0}}function td(n,t){const e=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const o=n[s[i]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function ed(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}function Mn(n,t){const e=n&&n.options||{},s=e.reverse,i=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:s?o:i,end:s?i:o}}function sd(n,t,e){if(!1===e)return!1;const s=Mn(n,e),i=Mn(t,e);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function id(n){let t,e,s,i;return K(n)?(t=n.top,e=n.right,s=n.bottom,i=n.left):t=e=s=i=n,{top:t,right:e,bottom:s,left:i,disabled:!1===n}}function kn(n,t){const e=[],s=n._getSortedDatasetMetas(t);let i,o;for(i=0,o=s.length;i<o;++i)e.push(s[i].index);return e}function On(n,t,e,s={}){const i=n.keys,o="single"===s.mode;let a,r,c,h;if(null!==t){for(a=0,r=i.length;a<r;++a){if(c=+i[a],c===e){if(s.all)continue;break}h=n.values[c],G(h)&&(o||0===t||Ft(t)===Ft(h))&&(t+=h)}return t}}function nd(n){const t=Object.keys(n),e=new Array(t.length);let s,i,o;for(s=0,i=t.length;s<i;++s)o=t[s],e[s]={x:o,y:n[o]};return e}function Ln(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function od(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function ad(n){const{min:t,max:e,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function rd(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function Pn(n,t,e,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const o=n[i.index];if(e&&o>0||!e&&o<0)return i.index}return null}function Nn(n,t){const{chart:e,_cachedMeta:s}=n,i=e._stacks||(e._stacks={}),{iScale:o,vScale:a,index:r}=s,c=o.axis,h=a.axis,d=od(o,a,s),f=t.length;let g;for(let p=0;p<f;++p){const b=t[p],{[c]:x,[h]:y}=b;g=(b._stacks||(b._stacks={}))[h]=rd(i,d,x),g[r]=y,g._top=Pn(g,a,!0,s.type),g._bottom=Pn(g,a,!1,s.type),(g._visualValues||(g._visualValues={}))[r]=y}}function Xs(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function ld(n,t){return qt(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function cd(n,t,e){return qt(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Pe(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const i of t){const o=i._stacks;if(!o||void 0===o[s]||void 0===o[s][e])return;delete o[s][e],void 0!==o[s]._visualValues&&void 0!==o[s]._visualValues[e]&&delete o[s]._visualValues[e]}}}const Gs=n=>"reset"===n||"none"===n,In=(n,t)=>t?n:Object.assign({},n),hd=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:kn(e,!0),values:null};class kt{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ln(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Pe(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),i=(f,g,p,b)=>"x"===f?g:"r"===f?b:p,o=e.xAxisID=V(s.xAxisID,Xs(t,"x")),a=e.yAxisID=V(s.yAxisID,Xs(t,"y")),r=e.rAxisID=V(s.rAxisID,Xs(t,"r")),c=e.indexAxis,h=e.iAxisID=i(c,o,a,r),d=e.vAxisID=i(c,a,o,r);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(r),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&on(this._data,this),t._stacked&&Pe(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(K(e))this._data=nd(e);else if(s!==e){if(s){on(s,this);const i=this._cachedMeta;Pe(i),i._parsed=[]}e&&Object.isExtensible(e)&&xh(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const o=e._stacked;e._stacked=Ln(e.vScale,e),e.stack!==s.stack&&(i=!0,Pe(e),e.stack=s.stack),this._resyncElements(t),(i||o!==e._stacked)&&Nn(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:i}=this,{iScale:o,_stacked:a}=s,r=o.axis;let d,f,g,c=0===t&&e===i.length||s._sorted,h=t>0&&s._parsed[t-1];if(!1===this._parsing)s._parsed=i,s._sorted=!0,g=i;else{g=at(i[t])?this.parseArrayData(s,i,t,e):K(i[t])?this.parseObjectData(s,i,t,e):this.parsePrimitiveData(s,i,t,e);const p=()=>null===f[r]||h&&f[r]<h[r];for(d=0;d<e;++d)s._parsed[d+t]=f=g[d],c&&(p()&&(c=!1),h=f);s._sorted=c}a&&Nn(this,g)}parsePrimitiveData(t,e,s,i){const{iScale:o,vScale:a}=t,r=o.axis,c=a.axis,h=o.getLabels(),d=o===a,f=new Array(i);let g,p,b;for(g=0,p=i;g<p;++g)b=g+s,f[g]={[r]:d||o.parse(h[b],b),[c]:a.parse(e[b],b)};return f}parseArrayData(t,e,s,i){const{xScale:o,yScale:a}=t,r=new Array(i);let c,h,d,f;for(c=0,h=i;c<h;++c)d=c+s,f=e[d],r[c]={x:o.parse(f[0],d),y:a.parse(f[1],d)};return r}parseObjectData(t,e,s,i){const{xScale:o,yScale:a}=t,{xAxisKey:r="x",yAxisKey:c="y"}=this._parsing,h=new Array(i);let d,f,g,p;for(d=0,f=i;d<f;++d)g=d+s,p=e[g],h[d]={x:o.parse(fe(p,r),g),y:a.parse(fe(p,c),g)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const o=this._cachedMeta,a=e[t.axis];return On({keys:kn(this.chart,!0),values:e._stacks[t.axis]._visualValues},a,o.index,{mode:s})}updateRangeFromParsed(t,e,s,i){const o=s[e.axis];let a=null===o?NaN:o;const r=i&&s._stacks[e.axis];i&&r&&(i.values=r,a=On(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const s=this._cachedMeta,i=s._parsed,o=s._sorted&&t===s.iScale,a=i.length,r=this._getOtherScale(t),c=hd(e,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=ad(r);let g,p;function b(){p=i[g];const x=p[r.axis];return!G(p[t.axis])||d>x||f<x}for(g=0;g<a&&(b()||(this.updateRangeFromParsed(h,t,p,c),!o));++g);if(o)for(g=a-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(h,t,p,c);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let i,o,a;for(i=0,o=e.length;i<o;++i)a=e[i][t.axis],G(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,i=e.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=id(V(this.options.clip,sd(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this._cachedMeta,i=s.data||[],o=this.chart.chartArea,a=[],r=this._drawStart||0,c=this._drawCount||i.length-r,h=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(t,o,r,c),d=r;d<r+c;++d){const f=i[d];f.hidden||(f.active&&h?a.push(f):f.draw(t,o))}for(d=0;d<a.length;++d)a[d].draw(t,o)}getStyle(t,e){const s=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=cd(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=ld(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const i="active"===e,o=this._cachedDataOpts,a=t+"-"+e,r=o[a],c=this.enableOptionSharing&&De(s);if(r)return In(r,c);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],g=h.getOptionScopes(this.getDataset(),d),p=Object.keys(X.elements[t]),x=h.resolveNamedOptions(g,p,()=>this.getContext(s,i,e),f);return x.$shared&&(x.$shared=c,o[a]=Object.freeze(In(x,c))),x}_resolveAnimations(t,e,s){const i=this.chart,o=this._cachedDataOpts,a=`animation-${e}`,r=o[a];if(r)return r;let c;if(!1!==i.options.animation){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,e),g=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(g,this.getContext(t,s,e))}const h=new Us(i,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Gs(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),i=this._sharedOptions,o=this.getSharedOptions(s),a=this.includeOptions(e,o)||o!==i;return this.updateSharedOptions(o,e,s),{sharedOptions:o,includeOptions:a}}updateElement(t,e,s,i){Gs(i)?Object.assign(t,s):this._resolveAnimations(e,i).update(t,s)}updateSharedOptions(t,e,s){t&&!Gs(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,i){t.active=i;const o=this.getStyle(e,i);this._resolveAnimations(e,s,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[r,c,h]of this._syncList)this[r](c,h);this._syncList=[];const i=s.length,o=e.length,a=Math.min(o,i);a&&this.parse(0,a),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,e,s=!0){const i=this._cachedMeta,o=i.data,a=t+e;let r;const c=h=>{for(h.length+=e,r=h.length-1;r>=a;r--)h[r]=h[r-e]};for(c(o),r=t;r<a;++r)o[r]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,e),s&&this.updateElements(o,t,e,"reset")}updateElements(t,e,s,i){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,e);s._stacked&&Pe(s,i)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,i]=t;this[e](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function dd(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let i=0,o=e.length;i<o;i++)s=s.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=an(s.sort((i,o)=>i-o))}return n._cache.$bar}function ud(n){const t=n.iScale,e=dd(t,n.type);let i,o,a,r,s=t._length;const c=()=>{32767===a||-32768===a||(De(r)&&(s=Math.min(s,Math.abs(a-r)||s)),r=a)};for(i=0,o=e.length;i<o;++i)a=t.getPixelForValue(e[i]),c();for(r=void 0,i=0,o=t.ticks.length;i<o;++i)a=t.getPixelForTick(i),c();return s}function fd(n,t,e,s){const i=e.barThickness;let o,a;return B(i)?(o=t.min*e.categoryPercentage,a=e.barPercentage):(o=i*s,a=1),{chunk:o/s,ratio:a,start:t.pixels[n]-o/2}}function gd(n,t,e,s){const i=t.pixels,o=i[n];let a=n>0?i[n-1]:null,r=n<i.length-1?i[n+1]:null;const c=e.categoryPercentage;null===a&&(a=o-(null===r?t.end-t.start:r-o)),null===r&&(r=o+o-a);const h=o-(o-Math.min(a,r))/2*c;return{chunk:Math.abs(r-a)/2*c/s,ratio:e.barPercentage,start:h}}function pd(n,t,e,s){const i=e.parse(n[0],s),o=e.parse(n[1],s),a=Math.min(i,o),r=Math.max(i,o);let c=a,h=r;Math.abs(a)>Math.abs(r)&&(c=r,h=a),t[e.axis]=h,t._custom={barStart:c,barEnd:h,start:i,end:o,min:a,max:r}}function Rn(n,t,e,s){return at(n)?pd(n,t,e,s):t[e.axis]=e.parse(n,s),t}function $n(n,t,e,s){const i=n.iScale,o=n.vScale,a=i.getLabels(),r=i===o,c=[];let h,d,f,g;for(h=e,d=e+s;h<d;++h)g=t[h],f={},f[i.axis]=r||i.parse(a[h],h),c.push(Rn(g,f,o,h));return c}function qs(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function _d(n,t,e){return 0!==n?Ft(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function md(n){let t,e,s,i,o;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(i="end",o="start"):(i="start",o="end"),{start:e,end:s,reverse:t,top:i,bottom:o}}function bd(n,t,e,s){let i=t.borderSkipped;const o={};if(!i)return void(n.borderSkipped=o);if(!0===i)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:r,reverse:c,top:h,bottom:d}=md(n);"middle"===i&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?i=h:(e._bottom||0)===s?i=d:(o[Vn(d,a,r,c)]=!0,i=h)),o[Vn(i,a,r,c)]=!0,n.borderSkipped=o}function Vn(n,t,e,s){return n=s?Fn(n=xd(n,t,e),e,t):Fn(n,t,e)}function xd(n,t,e){return n===t?e:n===e?t:n}function Fn(n,t,e){return"start"===n?t:"end"===n?e:n}function yd(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}class zn extends kt{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,s,i){return $n(t,e,s,i)}parseArrayData(t,e,s,i){return $n(t,e,s,i)}parseObjectData(t,e,s,i){const{iScale:o,vScale:a}=t,{xAxisKey:r="x",yAxisKey:c="y"}=this._parsing,h="x"===o.axis?r:c,d="x"===a.axis?r:c,f=[];let g,p,b,x;for(g=s,p=s+i;g<p;++g)x=e[g],b={},b[o.axis]=o.parse(fe(x,h),g),f.push(Rn(fe(x,d),b,a,g));return f}updateRangeFromParsed(t,e,s,i){super.updateRangeFromParsed(t,e,s,i);const o=s._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:i}=e,o=this.getParsed(t),a=o._custom,r=qs(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,i){const o="reset"===i,{index:a,_cachedMeta:{vScale:r}}=this,c=r.getBasePixel(),h=r.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,i);for(let p=e;p<e+s;p++){const b=this.getParsed(p),x=o||B(b[r.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),E=(b._stacks||{})[r.axis],v={horizontal:h,base:x.base,enableBorderRadius:!E||qs(b._custom)||a===E._top||a===E._bottom,x:h?x.head:y.center,y:h?y.center:x.head,height:h?y.size:Math.abs(x.size),width:h?Math.abs(x.size):y.size};g&&(v.options=f||this.resolveDataElementOptions(p,t[p].active?"active":i));const S=v.options||t[p].options;bd(v,S,E,a),yd(v,S,d.ratio),this.updateElement(t[p],p,v,i)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=s.options.stacked,a=[],r=c=>{const h=c.controller.getParsed(e),d=h&&h[c.vScale.axis];if(B(d)||isNaN(d))return!0};for(const c of i)if((void 0===e||!r(c))&&((!1===o||-1===a.indexOf(c.stack)||void 0===o&&void 0===c.stack)&&a.push(c.stack),c.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,s){const i=this._getStacks(t,s),o=void 0!==e?i.indexOf(e):-1;return-1===o?i.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,i=[];let o,a;for(o=0,a=e.data.length;o<a;++o)i.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const r=t.barThickness;return{min:r||ud(e),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:r?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:i},options:{base:o,minBarLength:a}}=this,r=o||0,c=this.getParsed(t),h=c._custom,d=qs(h);let b,x,f=c[e.axis],g=0,p=s?this.applyStack(e,c,s):f;p!==f&&(g=p-f,p=f),d&&(f=h.barStart,p=h.barEnd-h.barStart,0!==f&&Ft(f)!==Ft(h.barEnd)&&(g=0),g+=f);const y=B(o)||d?g:o;let E=e.getPixelForValue(y);if(b=this.chart.getDataVisibility(t)?e.getPixelForValue(g+p):E,x=b-E,Math.abs(x)<a){x=_d(x,e,r)*a,f===r&&(E-=x/2);const v=e.getPixelForDecimal(0),S=e.getPixelForDecimal(1),w=Math.min(v,S),T=Math.max(v,S);E=Math.max(Math.min(E,T),w),b=E+x,s&&!d&&(c._stacks[e.axis]._visualValues[i]=e.getValueForPixel(b)-e.getValueForPixel(E))}if(E===e.getPixelForValue(r)){const v=Ft(x)*e.getLineWidthForValue(r)/2;E+=v,x-=v}return{size:x,base:E,head:b,center:b+x/2}}_calculateBarIndexPixels(t,e){const s=e.scale,i=this.options,o=i.skipNull,a=V(i.maxBarThickness,1/0);let r,c;if(e.grouped){const h=o?this._getStackCount(t):e.stackCount,d="flex"===i.barThickness?gd(t,e,i,h):fd(t,e,i,h),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);r=d.start+d.chunk*f+d.chunk/2,c=Math.min(a,d.chunk*d.ratio)}else r=s.getPixelForValue(this.getParsed(t)[s.axis],t),c=Math.min(a,e.min*e.ratio);return{base:r-c/2,head:r+c/2,center:r,size:c}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,i=s.length;let o=0;for(;o<i;++o)null!==this.getParsed(o)[e.axis]&&s[o].draw(this._ctx)}}class Bn extends kt{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,s,i){const o=super.parsePrimitiveData(t,e,s,i);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+s).radius;return o}parseArrayData(t,e,s,i){const o=super.parseArrayData(t,e,s,i);for(let a=0;a<o.length;a++)o[a]._custom=V(e[s+a][2],this.resolveDataElementOptions(a+s).radius);return o}parseObjectData(t,e,s,i){const o=super.parseObjectData(t,e,s,i);for(let a=0;a<o.length;a++){const r=e[s+a];o[a]._custom=V(r&&r.r&&+r.r,this.resolveDataElementOptions(a+s).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:o}=e,a=this.getParsed(t),r=i.getLabelForValue(a.x),c=o.getLabelForValue(a.y),h=a._custom;return{label:s[t]||"",value:"("+r+", "+c+(h?", "+h:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,i){const o="reset"===i,{iScale:a,vScale:r}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(e,i),d=a.axis,f=r.axis;for(let g=e;g<e+s;g++){const p=t[g],b=!o&&this.getParsed(g),x={},y=x[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(b[d]),E=x[f]=o?r.getBasePixel():r.getPixelForValue(b[f]);x.skip=isNaN(y)||isNaN(E),h&&(x.options=c||this.resolveDataElementOptions(g,p.active?"active":i),o&&(x.options.radius=0)),this.updateElement(p,g,x,i)}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return"active"!==e&&(i.radius=0),i.radius+=V(s&&s._custom,o),i}}function Ed(n,t,e){let s=1,i=1,o=0,a=0;if(t<it){const r=n,c=r+t,h=Math.cos(r),d=Math.sin(r),f=Math.cos(c),g=Math.sin(c),p=(S,w,T)=>is(S,r,c,!0)?1:Math.max(w,w*e,T,T*e),b=(S,w,T)=>is(S,r,c,!0)?-1:Math.min(w,w*e,T,T*e),x=p(0,h,f),y=p(ut,d,g),E=b(Dt,h,f),v=b(Dt+ut,d,g);s=(x-E)/2,i=(y-v)/2,o=-(x+E)/2,a=-(y+v)/2}return{ratioX:s,ratioY:i,offsetX:o,offsetY:a}}class cs extends kt{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map((o,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=s;else{let a,r,o=c=>+s[c];if(K(s[t])){const{key:c="value"}=this._parsing;o=h=>+fe(s[h],c)}for(a=t,r=t+e;a<r;++a)i._parsed[a]=o(a)}}_getRotation(){return bt(this.options.rotation-90)}_getCircumference(){return bt(this.options.circumference)}_getRotationExtents(){let t=it,e=-it;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,o=i._getRotation(),a=i._getCircumference();t=Math.min(t,o),e=Math.max(e,o+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,i=this._cachedMeta,o=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,r=Math.max((Math.min(s.width,s.height)-a)/2,0),c=Math.min(yh(this.options.cutout,r),1),h=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:p,offsetX:b,offsetY:x}=Ed(f,d,c),v=Math.max(Math.min((s.width-a)/g,(s.height-a)/p)/2,0),S=Eh(this.options.radius,v),T=(S-Math.max(S*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=b*S,this.offsetY=x*S,i.total=this.calculateTotal(),this.outerRadius=S-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*h,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const s=this.options,i=this._cachedMeta,o=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/it)}updateElements(t,e,s,i){const o="reset"===i,a=this.chart,r=a.chartArea,d=(r.left+r.right)/2,f=(r.top+r.bottom)/2,g=o&&a.options.animation.animateScale,p=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:x,includeOptions:y}=this._getSharedOptions(e,i);let v,E=this._getRotation();for(v=0;v<e;++v)E+=this._circumference(v,o);for(v=e;v<e+s;++v){const S=this._circumference(v,o),w=t[v],T={x:d+this.offsetX,y:f+this.offsetY,startAngle:E,endAngle:E+S,circumference:S,outerRadius:b,innerRadius:p};y&&(T.options=x||this.resolveDataElementOptions(v,w.active?"active":i)),E+=S,this.updateElement(w,v,T,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const o=t._parsed[i];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?it*(Math.abs(t)/e):0}getLabelAndValue(t){const s=this.chart,i=s.data.labels||[],o=ss(this._cachedMeta._parsed[t],s.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const s=this.chart;let i,o,a,r,c;if(!t)for(i=0,o=s.data.datasets.length;i<o;++i)if(s.isDatasetVisible(i)){a=s.getDatasetMeta(i),t=a.data,r=a.controller;break}if(!t)return 0;for(i=0,o=t.length;i<o;++i)c=r.resolveDataElementOptions(i),"inner"!==c.borderAlign&&(e=Math.max(e,c.borderWidth||0,c.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,i=t.length;s<i;++s){const o=this.resolveDataElementOptions(s);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(V(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Hn extends kt{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:i=[],_dataset:o}=e,a=this.chart._animationsDisabled;let{start:r,count:c}=rn(e,i,a);this._drawStart=r,this._drawCount=c,ln(e)&&(r=0,c=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:h},t),this.updateElements(i,r,c,t)}updateElements(t,e,s,i){const o="reset"===i,{iScale:a,vScale:r,_stacked:c,_dataset:h}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(e,i),g=a.axis,p=r.axis,{spanGaps:b,segment:x}=this.options,y=ge(b)?b:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||o||"none"===i,v=e+s,S=t.length;let w=e>0&&this.getParsed(e-1);for(let T=0;T<S;++T){const L=t[T],D=E?L:{};if(T<e||T>=v){D.skip=!0;continue}const O=this.getParsed(T),P=B(O[p]),I=D[g]=a.getPixelForValue(O[g],T),N=D[p]=o||P?r.getBasePixel():r.getPixelForValue(c?this.applyStack(r,O,c):O[p],T);D.skip=isNaN(I)||isNaN(N)||P,D.stop=T>0&&Math.abs(O[g]-w[g])>y,x&&(D.parsed=O,D.raw=h.data[T]),f&&(D.options=d||this.resolveDataElementOptions(T,L.active?"active":i)),E||this.updateElement(L,T,D,i),w=O}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class Qs extends kt{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map((o,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this.chart,i=s.data.labels||[],o=ss(this._cachedMeta._parsed[t].r,s.options.locale);return{label:i[t]||"",value:o}}parseObjectData(t,e,s,i){return cn.bind(this)(t,e,s,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((s,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,s=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(i/2,0),r=(o-Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(t,e,s,i){const o="reset"===i,a=this.chart,c=a.options.animation,h=this._cachedMeta.rScale,d=h.xCenter,f=h.yCenter,g=h.getIndexAngle(0)-.5*Dt;let b,p=g;const x=360/this.countVisibleElements();for(b=0;b<e;++b)p+=this._computeAngle(b,i,x);for(b=e;b<e+s;b++){const y=t[b];let E=p,v=p+this._computeAngle(b,i,x),S=a.getDataVisibility(b)?h.getDistanceFromCenterForValue(this.getParsed(b).r):0;p=v,o&&(c.animateScale&&(S=0),c.animateRotate&&(E=v=g));const w={x:d,y:f,innerRadius:0,outerRadius:S,startAngle:E,endAngle:v,options:this.resolveDataElementOptions(b,y.active?"active":i)};this.updateElement(y,b,w,i)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?bt(this.resolveDataElementOptions(t,e).angle||s):0}}class Wn extends cs{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class jn extends kt{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,i){return cn.bind(this)(t,e,s,i)}update(t){const e=this._cachedMeta,s=e.dataset,i=e.data||[],o=e.iScale.getLabels();if(s.points=i,"resize"!==t){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0),this.updateElement(s,void 0,{_loop:!0,_fullLoop:o.length===i.length,options:a},t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,s,i){const o=this._cachedMeta.rScale,a="reset"===i;for(let r=e;r<e+s;r++){const c=t[r],h=this.resolveDataElementOptions(r,c.active?"active":i),d=o.getPointPositionForValue(r,this.getParsed(r).r),f=a?o.xCenter:d.x,g=a?o.yCenter:d.y,p={x:f,y:g,angle:d.angle,skip:isNaN(f)||isNaN(g),options:h};this.updateElement(c,r,p,i)}}}class Yn extends kt{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:o}=e,a=this.getParsed(t),r=i.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:s[t]||"",value:"("+r+", "+c+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,i=this.chart._animationsDisabled;let{start:o,count:a}=rn(e,s,i);if(this._drawStart=o,this._drawCount=a,ln(e)&&(o=0,a=s.length),this.options.showLine){const{dataset:r,_dataset:c}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!c._decimated,r.points=s;const h=this.resolveDatasetElementOptions(t);h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:h},t)}this.updateElements(s,o,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,i){const o="reset"===i,{iScale:a,vScale:r,_stacked:c,_dataset:h}=this._cachedMeta,d=this.resolveDataElementOptions(e,i),f=this.getSharedOptions(d),g=this.includeOptions(i,f),p=a.axis,b=r.axis,{spanGaps:x,segment:y}=this.options,E=ge(x)?x:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===i;let S=e>0&&this.getParsed(e-1);for(let w=e;w<e+s;++w){const T=t[w],L=this.getParsed(w),D=v?T:{},O=B(L[b]),P=D[p]=a.getPixelForValue(L[p],w),I=D[b]=o||O?r.getBasePixel():r.getPixelForValue(c?this.applyStack(r,L,c):L[b],w);D.skip=isNaN(P)||isNaN(I)||O,D.stop=w>0&&Math.abs(L[p]-S[p])>E,y&&(D.parsed=L,D.raw=h.data[w]),g&&(D.options=f||this.resolveDataElementOptions(w,T.active?"active":i)),v||this.updateElement(T,w,D,i),S=L}this.updateSharedOptions(f,i,d)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let r=0;for(let c=e.length-1;c>=0;--c)r=Math.max(r,e[c].size(this.resolveDataElementOptions(c))/2);return r>0&&r}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!e.length)return i;const o=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,o,a)/2}}var Kn=Object.freeze({__proto__:null,BarController:zn,BubbleController:Bn,DoughnutController:cs,LineController:Hn,PolarAreaController:Qs,PieController:Wn,RadarController:jn,ScatterController:Yn});function ee(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ui{static override(t){Object.assign(ui.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return ee()}parse(){return ee()}format(){return ee()}add(){return ee()}diff(){return ee()}startOf(){return ee()}endOf(){return ee()}}var Un={_date:ui};function vd(n,t,e,s){const{controller:i,data:o,_sorted:a}=n,r=i._cachedMeta.iScale;if(r&&t===r.axis&&"r"!==t&&a&&o.length){const c=r._reversePixels?vh:Me;if(!s)return c(o,t,e);if(i._sharedOptions){const h=o[0],d="function"==typeof h.getRange&&h.getRange(t);if(d){const f=c(o,t,e-d),g=c(o,t,e+d);return{lo:f.lo,hi:g.hi}}}}return{lo:0,hi:o.length-1}}function Ne(n,t,e,s,i){const o=n.getSortedVisibleDatasetMetas(),a=e[t];for(let r=0,c=o.length;r<c;++r){const{index:h,data:d}=o[r],{lo:f,hi:g}=vd(o[r],t,a,i);for(let p=f;p<=g;++p){const b=d[p];b.skip||s(b,h,p)}}}function Ad(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(s,i){const o=t?Math.abs(s.x-i.x):0,a=e?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Js(n,t,e,s,i){const o=[];return!i&&!n.isPointInArea(t)||Ne(n,e,t,function(r,c,h){!i&&!Bs(r,n.chartArea,0)||r.inRange(t.x,t.y,s)&&o.push({element:r,datasetIndex:c,index:h})},!0),o}function Td(n,t,e,s){let i=[];return Ne(n,e,t,function o(a,r,c){const{startAngle:h,endAngle:d}=a.getProps(["startAngle","endAngle"],s),{angle:f}=hn(a,{x:t.x,y:t.y});is(f,h,d)&&i.push({element:a,datasetIndex:r,index:c})}),i}function Sd(n,t,e,s,i,o){let a=[];const r=Ad(e);let c=Number.POSITIVE_INFINITY;return Ne(n,e,t,function h(d,f,g){const p=d.inRange(t.x,t.y,i);if(s&&!p)return;const b=d.getCenterPoint(i);if(!o&&!n.isPointInArea(b)&&!p)return;const y=r(t,b);y<c?(a=[{element:d,datasetIndex:f,index:g}],c=y):y===c&&a.push({element:d,datasetIndex:f,index:g})}),a}function Zs(n,t,e,s,i,o){return o||n.isPointInArea(t)?"r"!==e||s?Sd(n,t,e,s,i,o):Td(n,t,e,i):[]}function Xn(n,t,e,s,i){const o=[],a="x"===e?"inXRange":"inYRange";let r=!1;return Ne(n,e,t,(c,h,d)=>{c[a](t[e],i)&&(o.push({element:c,datasetIndex:h,index:d}),r=r||c.inRange(t.x,t.y,i))}),s&&!r?[]:o}var Gn={evaluateInteractionItems:Ne,modes:{index(n,t,e,s){const i=Qt(t,n),o=e.axis||"x",a=e.includeInvisible||!1,r=e.intersect?Js(n,i,o,s,a):Zs(n,i,o,!1,s,a),c=[];return r.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const d=r[0].index,f=h.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:h.index,index:d})}),c):[]},dataset(n,t,e,s){const i=Qt(t,n),o=e.axis||"xy",a=e.includeInvisible||!1;let r=e.intersect?Js(n,i,o,s,a):Zs(n,i,o,!1,s,a);if(r.length>0){const c=r[0].datasetIndex,h=n.getDatasetMeta(c).data;r=[];for(let d=0;d<h.length;++d)r.push({element:h[d],datasetIndex:c,index:d})}return r},point:(n,t,e,s)=>Js(n,Qt(t,n),e.axis||"xy",s,e.includeInvisible||!1),nearest:(n,t,e,s)=>Zs(n,Qt(t,n),e.axis||"xy",e.intersect,s,e.includeInvisible||!1),x:(n,t,e,s)=>Xn(n,Qt(t,n),"x",e.intersect,s),y:(n,t,e,s)=>Xn(n,Qt(t,n),"y",e.intersect,s)}};const qn=["left","top","right","bottom"];function Ie(n,t){return n.filter(e=>e.pos===t)}function Qn(n,t){return n.filter(e=>-1===qn.indexOf(e.pos)&&e.box.axis===t)}function Re(n,t){return n.sort((e,s)=>{const i=t?s:e,o=t?e:s;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function wd(n){const t=[];let e,s,i,o,a,r;for(e=0,s=(n||[]).length;e<s;++e)i=n[e],({position:o,options:{stack:a,stackWeight:r=1}}=i),t.push({index:e,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:r});return t}function Cd(n){const t={};for(const e of n){const{stack:s,pos:i,stackWeight:o}=e;if(!s||!qn.includes(i))continue;const a=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}function Dd(n,t){const e=Cd(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let o,a,r;for(o=0,a=n.length;o<a;++o){r=n[o];const{fullSize:c}=r.box,h=e[r.stack],d=h&&r.stackWeight/h.weight;r.horizontal?(r.width=d?d*s:c&&t.availableWidth,r.height=i):(r.width=s,r.height=d?d*i:c&&t.availableHeight)}return e}function Md(n){const t=wd(n),e=Re(t.filter(h=>h.box.fullSize),!0),s=Re(Ie(t,"left"),!0),i=Re(Ie(t,"right")),o=Re(Ie(t,"top"),!0),a=Re(Ie(t,"bottom")),r=Qn(t,"x"),c=Qn(t,"y");return{fullSize:e,leftAndTop:s.concat(o),rightAndBottom:i.concat(c).concat(a).concat(r),chartArea:Ie(t,"chartArea"),vertical:s.concat(i).concat(c),horizontal:o.concat(a).concat(r)}}function Jn(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function Zn(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function kd(n,t,e,s){const{pos:i,box:o}=e,a=n.maxPadding;if(!K(i)){e.size&&(n[i]-=e.size);const f=s[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?o.height:o.width),e.size=f.size/f.count,n[i]+=e.size}o.getPadding&&Zn(a,o.getPadding());const r=Math.max(0,t.outerWidth-Jn(a,n,"left","right")),c=Math.max(0,t.outerHeight-Jn(a,n,"top","bottom")),h=r!==n.w,d=c!==n.h;return n.w=r,n.h=c,e.horizontal?{same:h,other:d}:{same:d,other:h}}function Od(n){const t=n.maxPadding;function e(s){const i=Math.max(t[s]-n[s],0);return n[s]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Ld(n,t){const e=t.maxPadding;return function s(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{o[a]=Math.max(t[a],e[a])}),o}(n?["left","right"]:["top","bottom"])}function $e(n,t,e,s){const i=[];let o,a,r,c,h,d;for(o=0,a=n.length,h=0;o<a;++o){r=n[o],c=r.box,c.update(r.width||t.w,r.height||t.h,Ld(r.horizontal,t));const{same:f,other:g}=kd(t,e,r,s);h|=f&&i.length,d=d||g,c.fullSize||i.push(r)}return h&&$e(i,t,e,s)||d}function hs(n,t,e,s,i){n.top=e,n.left=t,n.right=t+s,n.bottom=e+i,n.width=s,n.height=i}function to(n,t,e,s){const i=e.padding;let{x:o,y:a}=t;for(const r of n){const c=r.box,h=s[r.stack]||{count:1,placed:0,weight:1},d=r.stackWeight/h.weight||1;if(r.horizontal){const f=t.w*d,g=h.size||c.height;De(h.start)&&(a=h.start),c.fullSize?hs(c,i.left,a,e.outerWidth-i.right-i.left,g):hs(c,t.left+h.placed,a,f,g),h.start=a,h.placed+=f,a=c.bottom}else{const f=t.h*d,g=h.size||c.width;De(h.start)&&(o=h.start),c.fullSize?hs(c,o,i.top,g,e.outerHeight-i.bottom-i.top):hs(c,o,t.top+h.placed,g,f),h.start=o,h.placed+=f,o=c.right}}t.x=o,t.y=a}var Z={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const i=tt(n.options.layout.padding),o=Math.max(t-i.width,0),a=Math.max(e-i.height,0),r=Md(n.boxes),c=r.vertical,h=r.horizontal;H(n.boxes,x=>{"function"==typeof x.beforeLayout&&x.beforeLayout()});const d=c.reduce((x,y)=>y.box.options&&!1===y.box.options.display?x:x+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/d,hBoxMaxHeight:a/2}),g=Object.assign({},i);Zn(g,tt(s));const p=Object.assign({maxPadding:g,w:o,h:a,x:i.left,y:i.top},i),b=Dd(c.concat(h),f);$e(r.fullSize,p,f,b),$e(c,p,f,b),$e(h,p,f,b)&&$e(c,p,f,b),Od(p),to(r.leftAndTop,p,f,b),p.x+=p.w,p.y+=p.h,to(r.rightAndBottom,p,f,b),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},H(r.chartArea,x=>{const y=x.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class ti{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,i){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):s)}}isAttached(t){return!0}updateConfig(t){}}class eo extends ti{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ds="$chartjs",Pd={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},so=n=>null===n||""===n;function Nd(n,t){const e=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[ds]={initial:{height:s,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",so(i)){const o=un(n,"width");void 0!==o&&(n.width=o)}if(so(s))if(""===n.style.height)n.height=n.width/(t||2);else{const o=un(n,"height");void 0!==o&&(n.height=o)}return n}const io=!!Th&&{passive:!0};function Id(n,t,e){n.addEventListener(t,e,io)}function Rd(n,t,e){n.canvas.removeEventListener(t,e,io)}function $d(n,t){const e=Pd[n.type]||n.type,{x:s,y:i}=Qt(n,t);return{type:e,chart:t,native:n,x:void 0!==s?s:null,y:void 0!==i?i:null}}function us(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Vd(n,t,e){const s=n.canvas,i=new MutationObserver(o=>{let a=!1;for(const r of o)a=a||us(r.addedNodes,s),a=a&&!us(r.removedNodes,s);a&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function Fd(n,t,e){const s=n.canvas,i=new MutationObserver(o=>{let a=!1;for(const r of o)a=a||us(r.removedNodes,s),a=a&&!us(r.addedNodes,s);a&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ve=new Map;let no=0;function oo(){const n=window.devicePixelRatio;n!==no&&(no=n,Ve.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function zd(n,t){Ve.size||window.addEventListener("resize",oo),Ve.set(n,t)}function Bd(n){Ve.delete(n),Ve.size||window.removeEventListener("resize",oo)}function Hd(n,t,e){const s=n.canvas,i=s&&dn(s);if(!i)return;const o=fn((r,c)=>{const h=i.clientWidth;e(r,c),h<i.clientWidth&&e()},window),a=new ResizeObserver(r=>{const c=r[0],h=c.contentRect.width,d=c.contentRect.height;0===h&&0===d||o(h,d)});return a.observe(i),zd(n,o),a}function ei(n,t,e){e&&e.disconnect(),"resize"===t&&Bd(n)}function Wd(n,t,e){const s=n.canvas,i=fn(o=>{null!==n.ctx&&e($d(o,n))},n);return Id(s,t,i),i}class ao extends ti{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(Nd(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[ds])return!1;const s=e[ds].initial;["height","width"].forEach(o=>{const a=s[o];B(a)?e.removeAttribute(o):e.setAttribute(o,a)});const i=s.style||{};return Object.keys(i).forEach(o=>{e.style[o]=i[o]}),e.width=e.width,delete e[ds],!0}addEventListener(t,e,s){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:Vd,detach:Fd,resize:Hd}[e]||Wd)(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),i=s[e];i&&(({attach:ei,detach:ei,resize:ei}[e]||Rd)(t,e,i),s[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,i){return Ah(t,e,s,i)}isAttached(t){const e=dn(t);return!(!e||!e.isConnected)}}function ro(n){return!gn()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?eo:ao}class ft{static defaults={};static defaultRoutes=void 0;active=!1;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return ge(this.x)&&ge(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const i={};return t.forEach(o=>{i[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),i}}function jd(n,t){const e=n.options.ticks,s=Yd(n),i=Math.min(e.maxTicksLimit||s,s),o=e.major.enabled?Ud(t):[],a=o.length,r=o[0],c=o[a-1],h=[];if(a>i)return Xd(t,h,o,a/i),h;const d=Kd(o,t,i);if(a>0){let f,g;const p=a>1?Math.round((c-r)/(a-1)):null;for(fs(t,h,d,B(p)?0:r-p,r),f=0,g=a-1;f<g;f++)fs(t,h,d,o[f],o[f+1]);return fs(t,h,d,c,B(p)?t.length:c+p),h}return fs(t,h,d),h}function Yd(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}function Kd(n,t,e){const s=Gd(n),i=t.length/e;if(!s)return Math.max(i,1);const o=Sh(s);for(let a=0,r=o.length-1;a<r;a++){const c=o[a];if(c>i)return c}return Math.max(i,1)}function Ud(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function Xd(n,t,e,s){let a,i=0,o=e[0];for(s=Math.ceil(s),a=0;a<n.length;a++)a===o&&(t.push(n[a]),i++,o=e[i*s])}function fs(n,t,e,s,i){const o=V(s,0),a=Math.min(V(i,n.length),n.length);let c,h,d,r=0;for(e=Math.ceil(e),i&&(c=i-s,e=c/Math.floor(c/e)),d=o;d<0;)r++,d=Math.round(o+r*e);for(h=Math.max(o,0);h<a;h++)h===d&&(t.push(n[h]),r++,d=Math.round(o+r*e))}function Gd(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const qd=n=>"left"===n?"right":"right"===n?"left":n,lo=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,co=(n,t)=>Math.min(t||n,n);function ho(n,t){const e=[],s=n.length/t,i=n.length;let o=0;for(;o<i;o+=s)e.push(n[Math.floor(o)]);return e}function Qd(n,t,e){const s=n.ticks.length,i=Math.min(t,s-1),o=n._startPixel,a=n._endPixel,r=1e-6;let h,c=n.getPixelForTick(i);if(!(e&&(h=1===s?Math.max(c-o,a-c):0===t?(n.getPixelForTick(1)-c)/2:(c-n.getPixelForTick(i-1))/2,c+=i<t?h:-h,c<o-r||c>a+r)))return c}function Jd(n,t){H(n,e=>{const s=e.gc,i=s.length/2;let o;if(i>t){for(o=0;o<i;++o)delete e.data[s[o]];s.splice(0,i)}})}function Fe(n){return n.drawTicks?n.tickLength:0}function uo(n,t){if(!n.display)return 0;const e=J(n.font,t),s=tt(n.padding);return(at(n.text)?n.text.length:1)*e.lineHeight+s.height}function Zd(n,t){return qt(n,{scale:t,type:"scale"})}function tu(n,t,e){return qt(n,{tick:e,index:t,type:"tick"})}function eu(n,t,e){let s=Ws(n);return(e&&"right"!==t||!e&&"right"===t)&&(s=qd(s)),s}function su(n,t,e,s){const{top:i,left:o,bottom:a,right:r,chart:c}=n,{chartArea:h,scales:d}=c;let g,p,b,f=0;const x=a-i,y=r-o;if(n.isHorizontal()){if(p=et(s,o,r),K(e)){const E=Object.keys(e)[0];b=d[E].getPixelForValue(e[E])+x-t}else b="center"===e?(h.bottom+h.top)/2+x-t:lo(n,e,t);g=r-o}else{if(K(e)){const E=Object.keys(e)[0];p=d[E].getPixelForValue(e[E])-y+t}else p="center"===e?(h.left+h.right)/2-y+t:lo(n,e,t);b=et(s,a,i),f="left"===e?-ut:ut}return{titleX:p,titleY:b,maxWidth:g,rotation:f}}class Ht extends ft{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:i}=this;return t=dt(t,Number.POSITIVE_INFINITY),e=dt(e,Number.NEGATIVE_INFINITY),s=dt(s,Number.POSITIVE_INFINITY),i=dt(i,Number.NEGATIVE_INFINITY),{min:dt(t,s),max:dt(e,i),minDefined:G(t),maxDefined:G(e)}}getMinMax(t){let a,{min:e,max:s,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:e,max:s};const r=this.getMatchingVisibleMetas();for(let c=0,h=r.length;c<h;++c)a=r[c].controller.getMinMax(this,t),i||(e=Math.min(e,a.min)),o||(s=Math.max(s,a.max));return e=o&&e>s?s:e,s=i&&e>s?e:s,{min:dt(e,dt(s,e)),max:dt(s,dt(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){j(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:i,grace:o,ticks:a}=this.options,r=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wh(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=r<this.ticks.length;this._convertTicksToLabels(c?ho(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=jd(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,s,t=this.options.reverse;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){j(this.options.afterUpdate,[this])}beforeSetDimensions(){j(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){j(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),j(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){j(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,i,o;for(s=0,i=t.length;s<i;s++)o=t[s],o.label=j(e.callback,[o.value,s,t],this)}afterTickToLabelConversion(){j(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){j(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=co(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,o=e.maxRotation;let r,c,h,a=i;if(!this._isVisible()||!e.display||i>=o||s<=1||!this.isHorizontal())return void(this.labelRotation=i);const d=this._getLabelSizes(),f=d.widest.width,g=d.highest.height,p=nt(this.chart.width-f,0,this.maxWidth);r=t.offset?this.maxWidth/s:p/(s-1),f+6>r&&(r=p/(s-(t.offset?.5:1)),c=this.maxHeight-Fe(t.grid)-e.padding-uo(t.title,this.chart.options.font),h=Math.sqrt(f*f+g*g),a=Hs(Math.min(Math.asin(nt((d.highest.height+6)/r,-1,1)),Math.asin(nt(c/h,-1,1))-Math.asin(nt(g/h,-1,1)))),a=Math.max(i,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){j(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){j(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:i,grid:o}}=this,a=this._isVisible(),r=this.isHorizontal();if(a){const c=uo(i,e.options.font);if(r?(t.width=this.maxWidth,t.height=Fe(o)+c):(t.height=this.maxHeight,t.width=Fe(o)+c),s.display&&this.ticks.length){const{first:h,last:d,widest:f,highest:g}=this._getLabelSizes(),p=2*s.padding,b=bt(this.labelRotation),x=Math.cos(b),y=Math.sin(b);r?t.height=Math.min(this.maxHeight,t.height+(s.mirror?0:y*f.width+x*g.height)+p):t.width=Math.min(this.maxWidth,t.width+(s.mirror?0:x*f.width+y*g.height)+p),this._calculatePadding(h,d,y,x)}}this._handleMargins(),r?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,i){const{ticks:{align:o,padding:a},position:r}=this.options,c=0!==this.labelRotation,h="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,p=0;c?h?(g=i*t.width,p=s*e.height):(g=s*t.height,p=i*e.width):"start"===o?p=e.width:"end"===o?g=t.width:"inner"!==o&&(g=t.width/2,p=e.width/2),this.paddingLeft=Math.max((g-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+a)*this.width/(this.width-f),0)}else{let d=e.height/2,f=t.height/2;"start"===o?(d=0,f=t.height):"end"===o&&(d=e.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){j(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,s=t.length;e<s;e++)B(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=ho(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:i,_longestTextCache:o}=this,a=[],r=[],c=Math.floor(e/co(e,s));let f,g,p,b,x,y,E,v,S,w,T,h=0,d=0;for(f=0;f<e;f+=c){if(b=t[f].label,x=this._resolveTickFontOptions(f),i.font=y=x.string,E=o[y]=o[y]||{data:{},gc:[]},v=x.lineHeight,S=w=0,B(b)||at(b)){if(at(b))for(g=0,p=b.length;g<p;++g)T=b[g],!B(T)&&!at(T)&&(S=pn(i,E.data,E.gc,S,T),w+=v)}else S=pn(i,E.data,E.gc,S,b),w=v;a.push(S),r.push(w),h=Math.max(S,h),d=Math.max(w,d)}Jd(o,e);const L=a.indexOf(h),D=r.indexOf(d),O=P=>({width:a[P]||0,height:r[P]||0});return{first:O(0),last:O(e-1),widest:O(L),highest:O(D),widths:a,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Ch(this._alignToPixels?Jt(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=tu(this.getContext(),t,s))}return this.$context||(this.$context=Zd(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=bt(this.labelRotation),s=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,r=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*s>r*i?r/s:c/i:c*i<r*s?c/s:r/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,i=this.options,{grid:o,position:a,border:r}=i,c=o.offset,h=this.isHorizontal(),f=this.ticks.length+(c?1:0),g=Fe(o),p=[],b=r.setContext(this.getContext()),x=b.display?b.width:0,y=x/2,E=function(W){return Jt(s,W,x)};let v,S,w,T,L,D,O,P,I,N,F,q;if("top"===a)v=E(this.bottom),D=this.bottom-g,P=v-y,N=E(t.top)+y,q=t.bottom;else if("bottom"===a)v=E(this.top),N=t.top,q=E(t.bottom)-y,D=v+y,P=this.top+g;else if("left"===a)v=E(this.right),L=this.right-g,O=v-y,I=E(t.left)+y,F=t.right;else if("right"===a)v=E(this.left),I=t.left,F=E(t.right)-y,L=v+y,O=this.left+g;else if("x"===e){if("center"===a)v=E((t.top+t.bottom)/2+.5);else if(K(a)){const W=Object.keys(a)[0];v=E(this.chart.scales[W].getPixelForValue(a[W]))}N=t.top,q=t.bottom,D=v+y,P=D+g}else if("y"===e){if("center"===a)v=E((t.left+t.right)/2);else if(K(a)){const W=Object.keys(a)[0];v=E(this.chart.scales[W].getPixelForValue(a[W]))}L=v-y,O=L-g,I=t.left,F=t.right}const st=V(i.ticks.maxTicksLimit,f),z=Math.max(1,Math.ceil(f/st));for(S=0;S<f;S+=z){const W=this.getContext(S),Y=o.setContext(W),ct=r.setContext(W),Q=Y.lineWidth,At=Y.color,ie=ct.dash||[],Lt=ct.dashOffset,Pt=Y.tickWidth,Nt=Y.tickColor,It=Y.tickBorderDash||[],Tt=Y.tickBorderDashOffset;w=Qd(this,S,c),void 0!==w&&(T=Jt(s,w,Q),h?L=O=I=F=T:D=P=N=q=T,p.push({tx1:L,ty1:D,tx2:O,ty2:P,x1:I,y1:N,x2:F,y2:q,width:Q,color:At,borderDash:ie,borderDashOffset:Lt,tickWidth:Pt,tickColor:Nt,tickBorderDash:It,tickBorderDashOffset:Tt}))}return this._ticksLength=f,this._borderValue=v,p}_computeLabelItems(t){const e=this.axis,s=this.options,{position:i,ticks:o}=s,a=this.isHorizontal(),r=this.ticks,{align:c,crossAlign:h,padding:d,mirror:f}=o,g=Fe(s.grid),p=g+d,b=f?-d:p,x=-bt(this.labelRotation),y=[];let E,v,S,w,T,L,D,O,P,I,N,F,q="middle";if("top"===i)L=this.bottom-b,D=this._getXAxisLabelAlignment();else if("bottom"===i)L=this.top+b,D=this._getXAxisLabelAlignment();else if("left"===i){const z=this._getYAxisLabelAlignment(g);D=z.textAlign,T=z.x}else if("right"===i){const z=this._getYAxisLabelAlignment(g);D=z.textAlign,T=z.x}else if("x"===e){if("center"===i)L=(t.top+t.bottom)/2+p;else if(K(i)){const z=Object.keys(i)[0];L=this.chart.scales[z].getPixelForValue(i[z])+p}D=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)T=(t.left+t.right)/2-p;else if(K(i)){const z=Object.keys(i)[0];T=this.chart.scales[z].getPixelForValue(i[z])}D=this._getYAxisLabelAlignment(g).textAlign}"y"===e&&("start"===c?q="top":"end"===c&&(q="bottom"));const st=this._getLabelSizes();for(E=0,v=r.length;E<v;++E){S=r[E],w=S.label;const z=o.setContext(this.getContext(E));O=this.getPixelForTick(E)+o.labelOffset,P=this._resolveTickFontOptions(E),I=P.lineHeight,N=at(w)?w.length:1;const W=N/2,Y=z.color,ct=z.textStrokeColor,Q=z.textStrokeWidth;let ie,At=D;if(a?(T=O,"inner"===D&&(At=E===v-1?this.options.reverse?"left":"right":0===E?this.options.reverse?"right":"left":"center"),F="top"===i?"near"===h||0!==x?-N*I+I/2:"center"===h?-st.highest.height/2-W*I+I:I/2-st.highest.height:"near"===h||0!==x?I/2:"center"===h?st.highest.height/2-W*I:st.highest.height-N*I,f&&(F*=-1),0!==x&&!z.showLabelBackdrop&&(T+=I/2*Math.sin(x))):(L=O,F=(1-N)*I/2),z.showLabelBackdrop){const Lt=tt(z.backdropPadding),Pt=st.heights[E],Nt=st.widths[E];let It=F-Lt.top,Tt=0-Lt.left;switch(q){case"middle":It-=Pt/2;break;case"bottom":It-=Pt}switch(D){case"center":Tt-=Nt/2;break;case"right":Tt-=Nt}ie={left:Tt,top:It,width:Nt+Lt.width,height:Pt+Lt.height,color:z.backdropColor}}y.push({label:w,font:P,textOffset:F,options:{rotation:x,color:Y,strokeColor:ct,strokeWidth:Q,textAlign:At,textBaseline:q,translation:[T,L],backdrop:ie}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-bt(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:i,padding:o}}=this.options,r=t+o,c=this._getLabelSizes().widest.width;let h,d;return"left"===e?i?(d=this.right+o,"near"===s?h="left":"center"===s?(h="center",d+=c/2):(h="right",d+=c)):(d=this.right-r,"near"===s?h="right":"center"===s?(h="center",d-=c/2):(h="left",d=this.left)):"right"===e?i?(d=this.left+o,"near"===s?h="right":"center"===s?(h="center",d-=c/2):(h="left",d-=c)):(d=this.left+r,"near"===s?h="left":"center"===s?(h="center",d+=c/2):(h="right",d=this.right)):h="right",{textAlign:h,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:i,width:o,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,i,o,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const r=(c,h,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(e.display)for(o=0,a=i.length;o<a;++o){const c=i[o];e.drawOnChartArea&&r({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&r({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:i}}=this,o=s.setContext(this.getContext()),a=s.display?o.width:0;if(!a)return;const r=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,d,f,g;this.isHorizontal()?(h=Jt(t,this.left,a)-a/2,d=Jt(t,this.right,r)+r/2,f=g=c):(f=Jt(t,this.top,a)-a/2,g=Jt(t,this.bottom,r)+r/2,h=d=c),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(h,f),e.lineTo(d,g),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&ns(s,i);const o=this.getLabelItems(t);for(const a of o)Zt(s,a.label,0,a.textOffset,a.font,a.options);i&&os(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:i}}=this;if(!s.display)return;const o=J(s.font),a=tt(s.padding),r=s.align;let c=o.lineHeight/2;"bottom"===e||"center"===e||K(e)?(c+=a.bottom,at(s.text)&&(c+=o.lineHeight*(s.text.length-1))):c+=a.top;const{titleX:h,titleY:d,maxWidth:f,rotation:g}=su(this,c,e,r);Zt(t,s.text,0,0,o,{color:s.color,maxWidth:f,rotation:g,textAlign:eu(r,e,i),textBaseline:"middle",translation:[h,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=V(t.grid&&t.grid.z,-1),i=V(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Ht.prototype.draw?[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let o,a;for(o=0,a=e.length;o<a;++o){const r=e[o];r[s]===this.id&&(!t||r.type===t)&&i.push(r)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return J(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class gs{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;ou(e)&&(s=this.register(e));const i=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,iu(t,a,s),this.override&&X.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,i=this.scope;s in e&&delete e[s],i&&s in X[i]&&(delete X[i][s],this.override&&delete pe[s])}}function iu(n,t,e){const s=Dh(Object.create(null),[e?X.get(e):{},X.get(t),n.defaults]);X.set(t,s),n.defaultRoutes&&nu(t,n.defaultRoutes),n.descriptors&&X.describe(t,n.descriptors)}function nu(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),i=s.pop(),o=[n].concat(s).join("."),a=t[e].split("."),r=a.pop(),c=a.join(".");X.route(o,i,c,r)})}function ou(n){return"id"in n&&"defaults"in n}class au{constructor(){this.controllers=new gs(kt,"datasets",!0),this.elements=new gs(ft,"elements"),this.plugins=new gs(Object,"plugins"),this.scales=new gs(Ht,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(i=>{const o=s||this._getRegistryForType(i);s||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):H(i,a=>{const r=s||this._getRegistryForType(a);this._exec(t,r,a)})})}_exec(t,e,s){const i=Mh(t);j(s["before"+i],[],s),e[t](s),j(s["after"+i],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var xt=new au;class ru{constructor(){this._init=[]}notify(t,e,s,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),a=this._notify(o,t,e,s);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,s,i){i=i||{};for(const o of t){const a=o.plugin;if(!1===j(a[s],[e,i,o.options],a)&&i.cancelable)return!1}return!0}invalidate(){B(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,i=V(s.options&&s.options.plugins,{}),o=lu(s);return!1!==i||e?hu(t,o,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,i=(o,a)=>o.filter(r=>!a.some(c=>r.plugin.id===c.plugin.id));this._notify(i(e,s),t,"stop"),this._notify(i(s,e),t,"start")}}function lu(n){const t={},e=[],s=Object.keys(xt.plugins.items);for(let o=0;o<s.length;o++)e.push(xt.getPlugin(s[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const a=i[o];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function cu(n,t){return t||!1!==n?!0===n?{}:n:null}function hu(n,{plugins:t,localIds:e},s,i){const o=[],a=n.getContext();for(const r of t){const c=r.id,h=cu(s[c],i);null!==h&&o.push({plugin:r,options:du(n.config,{plugin:r,local:e[c]},h,a)})}return o}function du(n,{plugin:t,local:e},s,i){const o=n.pluginScopeKeys(t),a=n.getOptionScopes(s,o);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function si(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(X.datasets[n]||{}).indexAxis||"x"}function uu(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}function fu(n,t){return n===t?"_index_":"_value_"}function gu(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function ps(n,t){if("x"===n||"y"===n||"r"===n||(n=t.axis||gu(t.position)||n.length>1&&ps(n[0].toLowerCase(),t)))return n;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function pu(n,t){const e=pe[n.type]||{scales:{}},s=t.scales||{},i=si(n.type,t),o=Object.create(null);return Object.keys(s).forEach(a=>{const r=s[a];if(!K(r))return console.error(`Invalid scale configuration for scale: ${a}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=ps(a,r),h=fu(c,i),d=e.scales||{};o[a]=rs(Object.create(null),[{axis:c},r,d[c],d[h]])}),n.data.datasets.forEach(a=>{const r=a.type||n.type,c=a.indexAxis||si(r,t),d=(pe[r]||{}).scales||{};Object.keys(d).forEach(f=>{const g=uu(f,c),p=a[g+"AxisID"]||g;o[p]=o[p]||Object.create(null),rs(o[p],[{axis:g},s[p],d[f]])})}),Object.keys(o).forEach(a=>{const r=o[a];rs(r,[X.scales[r.type],X.scale])}),o}function fo(n){const t=n.options||(n.options={});t.plugins=V(t.plugins,{}),t.scales=pu(n,t)}function go(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}function _u(n){return(n=n||{}).data=go(n.data),fo(n),n}const po=new Map,_o=new Set;function _s(n,t){let e=po.get(n);return e||(e=t(),po.set(n,e),_o.add(e)),e}const ze=(n,t,e)=>{const s=fe(t,e);void 0!==s&&n.add(s)};class mu{constructor(t){this._config=_u(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=go(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),fo(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _s(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return _s(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return _s(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return _s(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let i=s.get(t);return(!i||e)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,e,s){const{options:i,type:o}=this,a=this._cachedScopes(t,s),r=a.get(e);if(r)return r;const c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(f=>ze(c,t,f))),d.forEach(f=>ze(c,i,f)),d.forEach(f=>ze(c,pe[o]||{},f)),d.forEach(f=>ze(c,X,f)),d.forEach(f=>ze(c,_n,f))});const h=Array.from(c);return 0===h.length&&h.push(Object.create(null)),_o.has(e)&&a.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,pe[e]||{},X.datasets[e]||{},{type:e},X,_n]}resolveNamedOptions(t,e,s,i=[""]){const o={$shared:!0},{resolver:a,subPrefixes:r}=mo(this._resolverCache,t,i);let c=a;if(xu(a,e)){o.$shared=!1,s=as(s)?s():s;const h=this.createResolver(t,s,r);c=mn(a,s,h)}for(const h of e)o[h]=c[h];return o}createResolver(t,e,s=[""],i){const{resolver:o}=mo(this._resolverCache,t,s);return K(e)?mn(o,e,void 0,i):o}}function mo(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const i=e.join();let o=s.get(i);return o||(o={resolver:kh(t,e),subPrefixes:e.filter(r=>!r.toLowerCase().includes("hover"))},s.set(i,o)),o}const bu=n=>K(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||as(n[e]),!1);function xu(n,t){const{isScriptable:e,isIndexable:s}=Oh(n);for(const i of t){const o=e(i),a=s(i),r=(a||o)&&n[i];if(o&&(as(r)||bu(r))||a&&at(r))return!0}return!1}var yu="4.2.1";const Eu=["top","bottom","left","right","chartArea"];function bo(n,t){return"top"===n||"bottom"===n||-1===Eu.indexOf(n)&&"x"===t}function xo(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function yo(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),j(e&&e.onComplete,[n],t)}function vu(n){const t=n.chart,e=t.options.animation;j(e&&e.onProgress,[n],t)}function Eo(n){return gn()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ms={},vo=n=>{const t=Eo(n);return Object.values(ms).filter(e=>e.canvas===t).pop()};function Au(n,t,e){const s=Object.keys(n);for(const i of s){const o=+i;if(o>=t){const a=n[i];delete n[i],(e>0||o>t)&&(n[o+e]=a)}}}function Tu(n,t,e,s){return e&&"mouseout"!==n.type?s?t:n:null}function Su(n){const{xScale:t,yScale:e}=n;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}class Ao{static defaults=X;static instances=ms;static overrides=pe;static registry=xt;static version=yu;static getChart=vo;static register(...t){xt.add(...t),To()}static unregister(...t){xt.remove(...t),To()}constructor(t,e){const s=this.config=new mu(e),i=Eo(t),o=vo(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||ro(i)),this.platform.updateConfig(s);const r=this.platform.acquireContext(i,a.aspectRatio),c=r&&r.canvas,h=c&&c.height,d=c&&c.width;this.id=Lh(),this.ctx=r,this.canvas=c,this.width=d,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ru,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ph(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],ms[this.id]=this,r&&c?(Et.listen(this,"complete",yo),Et.listen(this,"progress",vu),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:i,_aspectRatio:o}=this;return B(t)?e&&o?o:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xn(this.canvas,this.ctx),this}stop(){return Et.stop(this),this}resize(t,e){Et.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,s.maintainAspectRatio&&this.aspectRatio),r=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,bn(this,r,!0)&&(this.notifyPlugins("resize",{size:a}),j(s.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){H(this.options.scales||{},(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,i=Object.keys(s).reduce((a,r)=>(a[r]=!1,a),{});let o=[];e&&(o=o.concat(Object.keys(e).map(a=>{const r=e[a],c=ps(a,r),h="r"===c,d="x"===c;return{options:r,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),H(o,a=>{const r=a.options,c=r.id,h=ps(c,r),d=V(r.type,a.dtype);(void 0===r.position||bo(r.position,h)!==bo(a.dposition))&&(r.position=a.dposition),i[c]=!0;let f=null;c in s&&s[c].type===d?f=s[c]:(f=new(xt.getScale(d))({id:c,type:d,ctx:this.ctx,chart:this}),s[f.id]=f),f.init(r,t)}),H(i,(a,r)=>{a||delete s[r]}),H(s,a=>{Z.configure(this,a,a.options),Z.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((i,o)=>i.index-o.index),s>e){for(let i=e;i<s;++i)this._destroyDatasetMeta(i);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(xo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,i)=>{0===e.filter(o=>o===s._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=e.length;s<i;s++){const o=e[s];let a=this.getDatasetMeta(s);const r=o.type||this.config.type;if(a.type&&a.type!==r&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=r,a.indexAxis=o.indexAxis||si(r,this.options),a.order=o.order||0,a.index=s,a.label=""+o.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const c=xt.getController(r),{datasetElementType:h,dataElementType:d}=X.datasets[r];Object.assign(c,{dataElementType:xt.getElement(d),datasetElementType:h&&xt.getElement(h)}),a.controller=new c(this,s),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){H(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:f}=this.getDatasetMeta(h),g=!i&&-1===o.indexOf(f);f.buildOrUpdateElements(g),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),i||H(o,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xo("z","_idx"));const{_active:r,_lastEvent:c}=this;c?this._eventHandler(c,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){H(this.scales,t=>{Z.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!yn(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:o}of e)Au(t,i,"_removeElements"===s?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=o=>new Set(t.filter(a=>a[0]===o).map((a,r)=>r+","+a.splice(1).join(","))),i=s(0);for(let o=1;o<e;o++)if(!yn(i,s(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Z.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],H(this.boxes,i=>{s&&"chartArea"===i.position||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,as(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(s.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Et.has(this)?this.attached&&!Et.running(this)&&Et.start(this):(this.draw(),yo({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resize(s,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let i,o;for(i=0,o=e.length;i<o;++i){const a=e[i];(!t||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,i=!s.disabled,o=Su(t)||this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&ns(e,{left:!1===s.left?0:o.left-s.left,right:!1===s.right?this.width:o.right+s.right,top:!1===s.top?0:o.top-s.top,bottom:!1===s.bottom?this.height:o.bottom+s.bottom}),t.controller.draw(),i&&os(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Bs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,i){const o=Gn.modes[e];return"function"==typeof o?o(this,t,s,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let i=s.filter(o=>o&&o._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=qt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return"boolean"==typeof s.hidden?!s.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const i=s?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,i);De(e)?(o.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),a.update(o,{visible:s}),this.update(r=>r.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Et.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),xn(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ms[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(o,a)=>{e.addEventListener(this,o,a),t[o]=a},i=(o,a,r)=>{o.offsetX=a,o.offsetY=r,this._eventHandler(o)};H(this.options.events,o=>s(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(c,h)=>{e.addEventListener(this,c,h),t[c]=h},i=(c,h)=>{t[c]&&(e.removeEventListener(this,c,h),delete t[c])},o=(c,h)=>{this.canvas&&this.resize(c,h)};let a;const r=()=>{i("attach",r),this.attached=!0,this.resize(),s("resize",o),s("detach",a)};a=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),s("attach",r)},e.isAttached(this.canvas)?r():a()}unbindEvents(){H(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},H(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const i=s?"set":"remove";let o,a,r,c;for("dataset"===e&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),r=0,c=t.length;r<c;++r){a=t[r];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:o,index:a})=>{const r=this.getDatasetMeta(o);if(!r)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:r.data[a],index:a}});!ls(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,s){const i=this.options.hover,o=(c,h)=>c.filter(d=>!h.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=o(e,t),r=s?t:o(t,e);a.length&&this.updateHoverStyle(a,i.mode,!1),r.length&&i.mode&&this.updateHoverStyle(r,i.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",s,i))return;const o=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(o||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:i=[],options:o}=this,r=this._getActiveElements(t,i,s,e),c=Nh(t),h=Tu(t,this._lastEvent,s,c);s&&(this._lastEvent=null,j(o.onHover,[t,r,this],this),c&&j(o.onClick,[t,r,this],this));const d=!ls(r,i);return(d||e)&&(this._active=r,this._updateHoverStyles(r,i,e)),this._lastEvent=h,d}_getActiveElements(t,e,s,i){if("mouseout"===t.type)return[];if(!s)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}function To(){return H(Ao.instances,n=>n._plugins.invalidate())}function wu(n,t,e){const{startAngle:s,pixelMargin:i,x:o,y:a,outerRadius:r,innerRadius:c}=t;let h=i/r;n.beginPath(),n.arc(o,a,r,s-h,e+h),c>i?(h=i/c,n.arc(o,a,c,e+h,s-h,!0)):n.arc(o,a,i,e+ut,s-ut),n.closePath(),n.clip()}function Cu(n){return Ih(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Du(n,t,e,s){const i=Cu(n.options.borderRadius),o=(e-t)/2,a=Math.min(o,s*t/2),r=c=>{const h=(e-Math.min(o,c))*s/2;return nt(c,0,Math.min(o,h))};return{outerStart:r(i.outerStart),outerEnd:r(i.outerEnd),innerStart:nt(i.innerStart,0,a),innerEnd:nt(i.innerEnd,0,a)}}function me(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function bs(n,t,e,s,i,o){const{x:a,y:r,startAngle:c,pixelMargin:h,innerRadius:d}=t,f=Math.max(t.outerRadius+s+e-h,0),g=d>0?d+s+e+h:0;let p=0;const b=i-c;if(s){const Y=((d>0?d-s:0)+(f>0?f-s:0))/2;p=(b-(0!==Y?b*Y/(Y+s):b))/2}const y=(b-Math.max(.001,b*f-e/Dt)/f)/2,E=c+y+p,v=i-y-p,{outerStart:S,outerEnd:w,innerStart:T,innerEnd:L}=Du(t,g,f,v-E),D=f-S,O=f-w,P=E+S/D,I=v-w/O,N=g+T,F=g+L,q=E+T/N,st=v-L/F;if(n.beginPath(),o){const z=(P+I)/2;if(n.arc(a,r,f,P,z),n.arc(a,r,f,z,I),w>0){const Q=me(O,I,a,r);n.arc(Q.x,Q.y,w,I,v+ut)}const W=me(F,v,a,r);if(n.lineTo(W.x,W.y),L>0){const Q=me(F,st,a,r);n.arc(Q.x,Q.y,L,v+ut,st+Math.PI)}const Y=(v-L/g+(E+T/g))/2;if(n.arc(a,r,g,v-L/g,Y,!0),n.arc(a,r,g,Y,E+T/g,!0),T>0){const Q=me(N,q,a,r);n.arc(Q.x,Q.y,T,q+Math.PI,E-ut)}const ct=me(D,E,a,r);if(n.lineTo(ct.x,ct.y),S>0){const Q=me(D,P,a,r);n.arc(Q.x,Q.y,S,E-ut,P)}}else{n.moveTo(a,r);const z=Math.cos(P)*f+a,W=Math.sin(P)*f+r;n.lineTo(z,W);const Y=Math.cos(I)*f+a,ct=Math.sin(I)*f+r;n.lineTo(Y,ct)}n.closePath()}function Mu(n,t,e,s,i){const{fullCircles:o,startAngle:a,circumference:r}=t;let c=t.endAngle;if(o){bs(n,t,e,s,c,i);for(let h=0;h<o;++h)n.fill();isNaN(r)||(c=a+(r%it||it))}return bs(n,t,e,s,c,i),n.fill(),c}function ku(n,t,e,s,i){const{fullCircles:o,startAngle:a,circumference:r,options:c}=t,{borderWidth:h,borderJoinStyle:d}=c,f="inner"===c.borderAlign;if(!h)return;f?(n.lineWidth=2*h,n.lineJoin=d||"round"):(n.lineWidth=h,n.lineJoin=d||"bevel");let g=t.endAngle;if(o){bs(n,t,e,s,g,i);for(let p=0;p<o;++p)n.stroke();isNaN(r)||(g=a+(r%it||it))}f&&wu(n,t,g),o||(bs(n,t,e,s,g,i),n.stroke())}class So extends ft{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=hn(i,{x:t,y:e}),{startAngle:r,endAngle:c,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=this.options.spacing/2,b=V(f,c-r)>=it||is(o,r,c),x=zt(a,h+g,d+g);return b&&x}getCenterPoint(t){const{x:e,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:h}=this.options,d=(i+o)/2,f=(a+r+h+c)/2;return{x:e+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this,i=(e.offset||0)/4,o=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=s>it?Math.floor(s/it):0,0===s||this.innerRadius<0||this.outerRadius<0)return;t.save();const r=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(r)*i,Math.sin(r)*i);const h=i*(1-Math.sin(Math.min(Dt,s||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Mu(t,this,h,o,a),ku(t,this,h,o,a),t.restore()}}function wo(n,t,e=t){n.lineCap=V(e.borderCapStyle,t.borderCapStyle),n.setLineDash(V(e.borderDash,t.borderDash)),n.lineDashOffset=V(e.borderDashOffset,t.borderDashOffset),n.lineJoin=V(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=V(e.borderWidth,t.borderWidth),n.strokeStyle=V(e.borderColor,t.borderColor)}function Ou(n,t,e){n.lineTo(e.x,e.y)}function Lu(n){return n.stepped?Bh:n.tension||"monotone"===n.cubicInterpolationMode?Hh:Ou}function Co(n,t,e={}){const s=n.length,{start:i=0,end:o=s-1}=e,{start:a,end:r}=t,c=Math.max(i,a),h=Math.min(o,r);return{count:s,start:c,loop:t.loop,ilen:h<c&&!(i<a&&o<a||i>r&&o>r)?s+h-c:h-c}}function Pu(n,t,e,s){const{points:i,options:o}=t,{count:a,start:r,loop:c,ilen:h}=Co(i,e,s),d=Lu(o);let p,b,x,{move:f=!0,reverse:g}=s||{};for(p=0;p<=h;++p)b=i[(r+(g?h-p:p))%a],!b.skip&&(f?(n.moveTo(b.x,b.y),f=!1):d(n,x,b,g,o.stepped),x=b);return c&&(b=i[(r+(g?h:0))%a],d(n,x,b,g,o.stepped)),!!c}function Nu(n,t,e,s){const i=t.points,{count:o,start:a,ilen:r}=Co(i,e,s),{move:c=!0,reverse:h}=s||{};let g,p,b,x,y,E,d=0,f=0;const v=w=>(a+(h?r-w:w))%o,S=()=>{x!==y&&(n.lineTo(d,y),n.lineTo(d,x),n.lineTo(d,E))};for(c&&(p=i[v(0)],n.moveTo(p.x,p.y)),g=0;g<=r;++g){if(p=i[v(g)],p.skip)continue;const w=p.x,T=p.y,L=0|w;L===b?(T<x?x=T:T>y&&(y=T),d=(f*d+w)/++f):(S(),n.lineTo(w,T),b=L,f=0,x=y=T),E=T}S()}function ii(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Pu:Nu}function Iu(n){return n.stepped?Vh:n.tension||"monotone"===n.cubicInterpolationMode?Fh:zh}function Ru(n,t,e,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,s)&&i.closePath()),wo(n,t.options),n.stroke(i)}function $u(n,t,e,s){const{segments:i,options:o}=t,a=ii(t);for(const r of i)wo(n,o,r.style),n.beginPath(),a(n,t,r,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const Vu="function"==typeof Path2D;function Fu(n,t,e,s){Vu&&!t.options.segment?Ru(n,t,e,s):$u(n,t,e,s)}class Be extends ft{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;!s.tension&&"monotone"!==s.cubicInterpolationMode||s.stepped||this._pointsUpdated||(Rh(this._points,s,t,s.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$h(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,s=t.length;return s&&this.points[t[s-1].end]}interpolate(t,e){const s=this.options,i=t[e],o=this.points,a=En(this,{property:e,start:i,end:i});if(!a.length)return;const r=[],c=Iu(s);let h,d;for(h=0,d=a.length;h<d;++h){const{start:f,end:g}=a[h],p=o[f],b=o[g];if(p===b){r.push(p);continue}const y=c(p,b,Math.abs((i-p[e])/(b[e]-p[e])),s.stepped);y[e]=t[e],r.push(y)}return 1===r.length?r[0]:r}pathSegment(t,e,s){return ii(this)(t,this,e,s)}path(t,e,s){const i=this.segments,o=ii(this);let a=this._loop;e=e||0,s=s||this.points.length-e;for(const r of i)a&=o(t,this,r,{start:e,end:e+s-1});return!!a}draw(t,e,s,i){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),Fu(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Do(n,t,e,s){const i=n.options,{[e]:o}=n.getProps([e],s);return Math.abs(t-o)<i.radius+i.hitRadius}class Mo extends ft{static id="point";static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(e-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return Do(this,t,"x",e)}inYRange(t,e){return Do(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const s=this.options;this.skip||s.radius<.1||!Bs(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,js(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function ko(n,t){const{x:e,y:s,base:i,width:o,height:a}=n.getProps(["x","y","base","width","height"],t);let r,c,h,d,f;return n.horizontal?(f=a/2,r=Math.min(e,i),c=Math.max(e,i),h=s-f,d=s+f):(f=o/2,r=e-f,c=e+f,h=Math.min(s,i),d=Math.max(s,i)),{left:r,top:h,right:c,bottom:d}}function Bt(n,t,e,s){return n?0:nt(t,e,s)}function zu(n,t,e){const i=n.borderSkipped,o=Wh(n.options.borderWidth);return{t:Bt(i.top,o.top,0,e),r:Bt(i.right,o.right,0,t),b:Bt(i.bottom,o.bottom,0,e),l:Bt(i.left,o.left,0,t)}}function Bu(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=te(i),a=Math.min(t,e),r=n.borderSkipped,c=s||K(i);return{topLeft:Bt(!c||r.top||r.left,o.topLeft,0,a),topRight:Bt(!c||r.top||r.right,o.topRight,0,a),bottomLeft:Bt(!c||r.bottom||r.left,o.bottomLeft,0,a),bottomRight:Bt(!c||r.bottom||r.right,o.bottomRight,0,a)}}function Hu(n){const t=ko(n),e=t.right-t.left,s=t.bottom-t.top,i=zu(n,e/2,s/2),o=Bu(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function ni(n,t,e,s){const i=null===t,o=null===e,r=n&&!(i&&o)&&ko(n,s);return r&&(i||zt(t,r.left,r.right))&&(o||zt(e,r.top,r.bottom))}function Wu(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function ju(n,t){n.rect(t.x,t.y,t.w,t.h)}function oi(n,t,e={}){const s=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0;return{x:n.x+s,y:n.y+i,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-s),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-i),radius:n.radius}}class Oo extends ft{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:i}}=this,{inner:o,outer:a}=Hu(this),r=Wu(a.radius)?ke:ju;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),r(t,oi(a,e,o)),t.clip(),r(t,oi(o,-e,a)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),r(t,oi(o,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,s){return ni(this,t,e,s)}inXRange(t,e){return ni(this,t,null,e)}inYRange(t,e){return ni(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+i)/2:e,y:o?s:(s+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}var Lo=Object.freeze({__proto__:null,ArcElement:So,LineElement:Be,PointElement:Mo,BarElement:Oo});const ai=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Po=ai.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function No(n){return ai[n%ai.length]}function Io(n){return Po[n%Po.length]}function Yu(n,t){return n.borderColor=No(t),n.backgroundColor=Io(t),++t}function Ku(n,t){return n.backgroundColor=n.data.map(()=>No(t++)),t}function Uu(n,t){return n.backgroundColor=n.data.map(()=>Io(t++)),t}function Xu(n){let t=0;return(e,s)=>{const i=n.getDatasetMeta(s).controller;i instanceof cs?t=Ku(e,t):i instanceof Qs?t=Uu(e,t):i&&(t=Yu(e,t))}}function Ro(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function Gu(n){return n&&(n.borderColor||n.backgroundColor)}var $o={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:s},options:i}=n.config,{elements:o}=i;if(!e.forceOverride&&(Ro(s)||Gu(i)||o&&Ro(o)))return;const a=Xu(n);s.forEach(a)}};function qu(n,t,e,s,i){const o=i.samples||s;if(o>=e)return n.slice(t,t+e);const a=[],r=(e-2)/(o-2);let c=0;const h=t+e-1;let f,g,p,b,x,d=t;for(a[c++]=n[d],f=0;f<o-2;f++){let v,y=0,E=0;const S=Math.floor((f+1)*r)+1+t,w=Math.min(Math.floor((f+2)*r)+1,e)+t,T=w-S;for(v=S;v<w;v++)y+=n[v].x,E+=n[v].y;y/=T,E/=T;const L=Math.floor(f*r)+1+t,D=Math.min(Math.floor((f+1)*r)+1,e)+t,{x:O,y:P}=n[d];for(p=b=-1,v=L;v<D;v++)b=.5*Math.abs((O-y)*(n[v].y-P)-(O-n[v].x)*(E-P)),b>p&&(p=b,g=n[v],x=v);a[c++]=g,d=x}return a[c++]=n[h],a}function Qu(n,t,e,s){let a,r,c,h,d,f,g,p,b,x,i=0,o=0;const y=[],v=n[t].x,w=n[t+e-1].x-v;for(a=t;a<t+e;++a){r=n[a],c=(r.x-v)/w*s,h=r.y;const T=0|c;if(T===d)h<b?(b=h,f=a):h>x&&(x=h,g=a),i=(o*i+r.x)/++o;else{const L=a-1;if(!B(f)&&!B(g)){const D=Math.min(f,g),O=Math.max(f,g);D!==p&&D!==L&&y.push({...n[D],x:i}),O!==p&&O!==L&&y.push({...n[O],x:i})}a>0&&L!==p&&y.push(n[L]),y.push(r),d=T,o=0,b=x=h,f=g=p=a}}return y}function Vo(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Fo(n){n.data.datasets.forEach(t=>{Vo(t)})}function Ju(n,t){const e=t.length;let i,s=0;const{iScale:o}=n,{min:a,max:r,minDefined:c,maxDefined:h}=o.getUserBounds();return c&&(s=nt(Me(t,o.axis,a).lo,0,e-1)),i=h?nt(Me(t,o.axis,r).hi+1,s,e)-s:e-s,{start:s,count:i}}var zo={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Fo(n);const s=n.width;n.data.datasets.forEach((i,o)=>{const{_data:a,indexAxis:r}=i,c=n.getDatasetMeta(o),h=a||i.data;if("y"===Ce([r,n.options.indexAxis])||!c.controller.supportsDecimation)return;const d=n.scales[c.xAxisID];if("linear"!==d.type&&"time"!==d.type||n.options.parsing)return;let b,{start:f,count:g}=Ju(c,h);if(g<=(e.threshold||4*s))Vo(i);else{switch(B(a)&&(i._data=h,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}})),e.algorithm){case"lttb":b=qu(h,f,g,s,e);break;case"min-max":b=Qu(h,f,g,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=b}})},destroy(n){Fo(n)}};function Zu(n,t,e){const s=n.segments,i=n.points,o=t.points,a=[];for(const r of s){let{start:c,end:h}=r;h=li(c,h,i);const d=ri(e,i[c],i[h],r.loop);if(!t.segments){a.push({source:r,target:d,start:i[c],end:i[h]});continue}const f=En(t,d);for(const g of f){const p=ri(e,o[g.start],o[g.end],g.loop),b=jh(r,i,p);for(const x of b)a.push({source:x,target:g,start:{[e]:Bo(d,p,"start",Math.max)},end:{[e]:Bo(d,p,"end",Math.min)}})}}return a}function ri(n,t,e,s){if(s)return;let i=t[n],o=e[n];return"angle"===n&&(i=Oe(i),o=Oe(o)),{property:n,start:i,end:o}}function tf(n,t){const{x:e=null,y:s=null}=n||{},i=t.points,o=[];return t.segments.forEach(({start:a,end:r})=>{r=li(a,r,i);const c=i[a],h=i[r];null!==s?(o.push({x:c.x,y:s}),o.push({x:h.x,y:s})):null!==e&&(o.push({x:e,y:c.y}),o.push({x:e,y:h.y}))}),o}function li(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function Bo(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function Ho(n,t){let e=[],s=!1;return at(n)?(s=!0,e=n):e=tf(n,t),e.length?new Be({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function Wo(n){return n&&!1!==n.fill}function ef(n,t,e){let i=n[t].fill;const o=[t];let a;if(!e)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!G(i))return i;if(a=n[i],!a)return!1;if(a.visible)return i;o.push(i),i=a.fill}return!1}function sf(n,t,e){const s=rf(n);if(K(s))return!isNaN(s.value)&&s;let i=parseFloat(s);return G(i)&&Math.floor(i)===i?nf(s[0],t,i,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function nf(n,t,e,s){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=s)&&e}function of(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:K(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function af(n,t,e){let s;return s="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:K(n)?n.value:t.getBaseValue(),s}function rf(n){const t=n.options,e=t.fill;let s=V(e&&e.target,e);return void 0===s&&(s=!!t.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}function lf(n){const{scale:t,index:e,line:s}=n,i=[],o=s.segments,a=s.points,r=cf(t,e);r.push(Ho({x:null,y:t.bottom},s));for(let c=0;c<o.length;c++){const h=o[c];for(let d=h.start;d<=h.end;d++)hf(i,a[d],r)}return new Be({points:i,options:{}})}function cf(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const o=s[i];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function hf(n,t,e){const s=[];for(let i=0;i<e.length;i++){const o=e[i],{first:a,last:r,point:c}=df(o,t,"x");if(!(!c||a&&r))if(a)s.unshift(c);else if(n.push(c),!r)break}n.push(...s)}function df(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const i=s[e],o=n.segments,a=n.points;let r=!1,c=!1;for(let h=0;h<o.length;h++){const d=o[h],f=a[d.start][e],g=a[d.end][e];if(zt(i,f,g)){r=i===f,c=i===g;break}}return{first:r,last:c,point:s}}class jo{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:i,y:o,radius:a}=this;return t.arc(i,o,a,(e=e||{start:0,end:it}).end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:i}=this,o=t.angle;return{x:e+Math.cos(o)*i,y:s+Math.sin(o)*i,angle:o}}}function uf(n){const{chart:t,fill:e,line:s}=n;if(G(e))return ff(t,e);if("stack"===e)return lf(n);if("shape"===e)return!0;const i=gf(n);return i instanceof jo?i:Ho(i,s)}function ff(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function gf(n){return(n.scale||{}).getPointPositionForValue?_f(n):pf(n)}function pf(n){const{scale:t={},fill:e}=n,s=of(e,t);if(G(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function _f(n){const{scale:t,fill:e}=n,s=t.options,i=t.getLabels().length,o=s.reverse?t.max:t.min,a=af(e,t,o),r=[];if(s.grid.circular){const c=t.getPointPositionForValue(0,o);return new jo({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(a)})}for(let c=0;c<i;++c)r.push(t.getPointPositionForValue(c,a));return r}function ci(n,t,e){const s=uf(t),{line:i,scale:o,axis:a}=t,r=i.options,c=r.fill,h=r.backgroundColor,{above:d=h,below:f=h}=c||{};s&&i.points.length&&(ns(n,e),mf(n,{line:i,target:s,above:d,below:f,area:e,scale:o,axis:a}),os(n))}function mf(n,t){const{line:e,target:s,above:i,below:o,area:a,scale:r}=t,c=e._loop?"angle":t.axis;n.save(),"x"===c&&o!==i&&(Yo(n,s,a.top),Ko(n,{line:e,target:s,color:i,scale:r,property:c}),n.restore(),n.save(),Yo(n,s,a.bottom)),Ko(n,{line:e,target:s,color:o,scale:r,property:c}),n.restore()}function Yo(n,t,e){const{segments:s,points:i}=t;let o=!0,a=!1;n.beginPath();for(const r of s){const{start:c,end:h}=r,d=i[c],f=i[li(c,h,i)];o?(n.moveTo(d.x,d.y),o=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),a=!!t.pathSegment(n,r,{move:a}),a?n.closePath():n.lineTo(f.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Ko(n,t){const{line:e,target:s,property:i,color:o,scale:a}=t,r=Zu(e,s,i);for(const{source:c,target:h,start:d,end:f}of r){const{style:{backgroundColor:g=o}={}}=c,p=!0!==s;n.save(),n.fillStyle=g,bf(n,a,p&&ri(i,d,f)),n.beginPath();const b=!!e.pathSegment(n,c);let x;if(p){b?n.closePath():Uo(n,s,f,i);const y=!!s.pathSegment(n,h,{move:b,reverse:!0});x=b&&y,x||Uo(n,s,d,i)}n.closePath(),n.fill(x?"evenodd":"nonzero"),n.restore()}}function bf(n,t,e){const{top:s,bottom:i}=t.chart.chartArea,{property:o,start:a,end:r}=e||{};"x"===o&&(n.beginPath(),n.rect(a,s,r-a,i-s),n.clip())}function Uo(n,t,e,s){const i=t.interpolate(e,s);i&&n.lineTo(i.x,i.y)}var Xo={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,i=[];let o,a,r,c;for(a=0;a<s;++a)o=n.getDatasetMeta(a),r=o.dataset,c=null,r&&r.options&&r instanceof Be&&(c={visible:n.isDatasetVisible(a),index:a,fill:sf(r,a,s),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=c,i.push(c);for(a=0;a<s;++a)c=i[a],c&&!1!==c.fill&&(c.fill=ef(i,a,e.propagate))},beforeDraw(n,t,e){const s="beforeDraw"===e.drawTime,i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let a=i.length-1;a>=0;--a){const r=i[a].$filler;r&&(r.line.updateControlPoints(o,r.axis),s&&r.fill&&ci(n.ctx,r,o))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const o=s[i].$filler;Wo(o)&&ci(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!Wo(s)||"beforeDatasetDraw"!==e.drawTime||ci(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Go=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},xf=(n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class qo extends ft{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=j(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const s=t.labels,i=J(s.font),o=i.size,a=this._computeTitleHeight(),{boxWidth:r,itemHeight:c}=Go(s,o);let h,d;e.font=i.string,this.isHorizontal()?(h=this.maxWidth,d=this._fitRows(a,o,r,c)+10):(d=this.maxHeight,h=this._fitCols(a,i,r,c)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,i){const{ctx:o,maxWidth:a,options:{labels:{padding:r}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],d=i+r;let f=t;o.textAlign="left",o.textBaseline="middle";let g=-1,p=-d;return this.legendItems.forEach((b,x)=>{const y=s+e/2+o.measureText(b.text).width;(0===x||h[h.length-1]+y+2*r>a)&&(f+=d,h[h.length-(x>0?0:1)]=0,p+=d,g++),c[x]={left:0,top:p,row:g,width:y,height:i},h[h.length-1]+=y+r}),f}_fitCols(t,e,s,i){const{ctx:o,maxHeight:a,options:{labels:{padding:r}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],d=a-t;let f=r,g=0,p=0,b=0,x=0;return this.legendItems.forEach((y,E)=>{const{itemWidth:v,itemHeight:S}=yf(s,e,o,y,i);E>0&&p+S+2*r>d&&(f+=g+r,h.push({width:g,height:p}),b+=g+r,x++,g=p=0),c[E]={left:b,top:p,col:x,width:v,height:S},g=Math.max(g,v),p+=S+r}),f+=g,h.push({width:g,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:i},rtl:o}}=this,a=_e(o,this.left,this.width);if(this.isHorizontal()){let r=0,c=et(s,this.left+i,this.right-this.lineWidths[r]);for(const h of e)r!==h.row&&(r=h.row,c=et(s,this.left+i,this.right-this.lineWidths[r])),h.top+=this.top+t+i,h.left=a.leftForLtr(a.x(c),h.width),c+=h.width+i}else{let r=0,c=et(s,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const h of e)h.col!==r&&(r=h.col,c=et(s,this.top+t+i,this.bottom-this.columnSizes[r].height)),h.top=c,h.left+=this.left+i,h.left=a.leftForLtr(a.x(h.left),h.width),c+=h.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;ns(t,this),this._draw(),os(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:i}=this,{align:o,labels:a}=t,r=X.color,c=_e(t.rtl,this.left,this.width),h=J(a.font),{padding:d}=a,f=h.size,g=f/2;let p;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:b,boxHeight:x,itemHeight:y}=Go(a,f),S=this.isHorizontal(),w=this._computeTitleHeight();p=S?{x:et(o,this.left+d,this.right-s[0]),y:this.top+d+w,line:0}:{x:this.left+d,y:et(o,this.top+w+d,this.bottom-e[0].height),line:0},vn(this.ctx,t.textDirection);const T=y+d;this.legendItems.forEach((L,D)=>{i.strokeStyle=L.fontColor,i.fillStyle=L.fontColor;const O=i.measureText(L.text).width,P=c.textAlign(L.textAlign||(L.textAlign=a.textAlign)),I=b+g+O;let N=p.x,F=p.y;c.setWidth(this.width),S?D>0&&N+I+d>this.right&&(F=p.y+=T,p.line++,N=p.x=et(o,this.left+d,this.right-s[p.line])):D>0&&F+T>this.bottom&&(N=p.x=N+e[p.line].width+d,p.line++,F=p.y=et(o,this.top+w+d,this.bottom-e[p.line].height)),function(L,D,O){if(isNaN(b)||b<=0||isNaN(x)||x<0)return;i.save();const P=V(O.lineWidth,1);if(i.fillStyle=V(O.fillStyle,r),i.lineCap=V(O.lineCap,"butt"),i.lineDashOffset=V(O.lineDashOffset,0),i.lineJoin=V(O.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=V(O.strokeStyle,r),i.setLineDash(V(O.lineDash,[])),a.usePointStyle){const I={radius:x*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:P},N=c.xPlus(L,b/2);Kh(i,I,N,D+g,a.pointStyleWidth&&b)}else{const I=D+Math.max((f-x)/2,0),N=c.leftForLtr(L,b),F=te(O.borderRadius);i.beginPath(),Object.values(F).some(q=>0!==q)?ke(i,{x:N,y:I,w:b,h:x,radius:F}):i.rect(N,I,b,x),i.fill(),0!==P&&i.stroke()}i.restore()}(c.x(N),F,L),N=Yh(P,N+b+g,S?N+I:this.right,t.rtl),function(L,D,O){Zt(i,O.text,L,D+y/2,h,{strikethrough:O.hidden,textAlign:c.textAlign(O.textAlign)})}(c.x(N),F,L),S?p.x+=I+d:p.y+="string"!=typeof L.text?Qo(L,h.lineHeight):T}),An(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=J(e.font),i=tt(e.padding);if(!e.display)return;const o=_e(t.rtl,this.left,this.width),a=this.ctx,r=e.position,h=i.top+s.size/2;let d,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+h,f=et(t.align,f,this.right-g);else{const b=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);d=h+et(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const p=et(r,f,f+g);a.textAlign=o.textAlign(Ws(r)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=s.string,Zt(a,e.text,p,d,s)}_computeTitleHeight(){const t=this.options.title,e=J(t.font),s=tt(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,i,o;if(zt(t,this.left,this.right)&&zt(e,this.top,this.bottom))for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(i=o[s],zt(t,i.left,i.left+i.width)&&zt(e,i.top,i.top+i.height))return this.legendItems[s];return null}handleEvent(t){const e=this.options;if(!Af(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,o=xf(i,s);i&&!o&&j(e.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!o&&j(e.onHover,[t,s,this],this)}else s&&j(e.onClick,[t,s,this],this)}}function yf(n,t,e,s,i){return{itemWidth:Ef(s,n,t,e),itemHeight:vf(i,s,t.lineHeight)}}function Ef(n,t,e,s){let i=n.text;return i&&"string"!=typeof i&&(i=i.reduce((o,a)=>o.length>a.length?o:a)),t+e.size/2+s.measureText(i).width}function vf(n,t,e){let s=n;return"string"!=typeof t.text&&(s=Qo(t,e)),s}function Qo(n,t){return t*(n.text?n.text.length+.5:0)}function Af(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}var Jo={id:"legend",_element:qo,start(n,t,e){const s=n.legend=new qo({ctx:n.ctx,options:e,chart:n});Z.configure(n,s,e),Z.addBox(n,s)},stop(n){Z.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;Z.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,i=e.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:i,color:o,useBorderRadius:a,borderRadius:r}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(e?0:void 0),d=tt(h.borderWidth);return{text:t[c.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:a&&(r||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class hi extends ft{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=at(s.text)?s.text.length:1;this._padding=tt(s.padding);const o=i*J(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:s,bottom:i,right:o,options:a}=this,r=a.align;let h,d,f,c=0;return this.isHorizontal()?(d=et(r,s,o),f=e+t,h=o-s):("left"===a.position?(d=s+t,f=et(r,i,e),c=-.5*Dt):(d=o-t,f=et(r,e,i),c=.5*Dt),h=i-e),{titleX:d,titleY:f,maxWidth:h,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=J(e.font),o=s.lineHeight/2+this._padding.top,{titleX:a,titleY:r,maxWidth:c,rotation:h}=this._drawArgs(o);Zt(t,e.text,0,0,s,{color:e.color,maxWidth:c,rotation:h,textAlign:Ws(e.align),textBaseline:"middle",translation:[a,r]})}}function Tf(n,t){const e=new hi({ctx:n.ctx,options:t,chart:n});Z.configure(n,e,t),Z.addBox(n,e),n.titleBlock=e}var Zo={id:"title",_element:hi,start(n,t,e){Tf(n,e)},stop(n){Z.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;Z.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xs=new WeakMap;var ta={id:"subtitle",start(n,t,e){const s=new hi({ctx:n.ctx,options:e,chart:n});Z.configure(n,s,e),Z.addBox(n,s),xs.set(n,s)},stop(n){Z.removeBox(n,xs.get(n)),xs.delete(n)},beforeUpdate(n,t,e){const s=xs.get(n);Z.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const He={average(n){if(!n.length)return!1;let t,e,s=0,i=0,o=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const r=a.tooltipPosition();s+=r.x,i+=r.y,++o}}return{x:s/o,y:i/o}},nearest(n,t){if(!n.length)return!1;let o,a,r,e=t.x,s=t.y,i=Number.POSITIVE_INFINITY;for(o=0,a=n.length;o<a;++o){const c=n[o].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),d=Uh(t,h);d<i&&(i=d,r=c)}}if(r){const c=r.tooltipPosition();e=c.x,s=c.y}return{x:e,y:s}}};function vt(n,t){return t&&(at(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ot(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Sf(n,t){const{element:e,datasetIndex:s,index:i}=t,o=n.getDatasetMeta(s).controller,{label:a,value:r}=o.getLabelAndValue(i);return{chart:n,label:a,parsed:o.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:r,dataset:o.getDataset(),dataIndex:i,datasetIndex:s,element:e}}function ea(n,t){const e=n.chart.ctx,{body:s,footer:i,title:o}=n,{boxWidth:a,boxHeight:r}=t,c=J(t.bodyFont),h=J(t.titleFont),d=J(t.footerFont),f=o.length,g=i.length,p=s.length,b=tt(t.padding);let x=b.height,y=0,E=s.reduce((w,T)=>w+T.before.length+T.lines.length+T.after.length,0);E+=n.beforeBody.length+n.afterBody.length,f&&(x+=f*h.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),E&&(x+=p*(t.displayColors?Math.max(r,c.lineHeight):c.lineHeight)+(E-p)*c.lineHeight+(E-1)*t.bodySpacing),g&&(x+=t.footerMarginTop+g*d.lineHeight+(g-1)*t.footerSpacing);let v=0;const S=function(w){y=Math.max(y,e.measureText(w).width+v)};return e.save(),e.font=h.string,H(n.title,S),e.font=c.string,H(n.beforeBody.concat(n.afterBody),S),v=t.displayColors?a+2+t.boxPadding:0,H(s,w=>{H(w.before,S),H(w.lines,S),H(w.after,S)}),v=0,e.font=d.string,H(n.footer,S),e.restore(),y+=b.width,{width:y,height:x}}function wf(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function Cf(n,t,e,s){const{x:i,width:o}=s,a=e.caretSize+e.caretPadding;if("left"===n&&i+o+a>t.width||"right"===n&&i-o-a<0)return!0}function Df(n,t,e,s){const{x:i,width:o}=e,{width:a,chartArea:{left:r,right:c}}=n;let h="center";return"center"===s?h=i<=(r+c)/2?"left":"right":i<=o/2?h="left":i>=a-o/2&&(h="right"),Cf(h,n,t,e)&&(h="center"),h}function sa(n,t,e){const s=e.yAlign||t.yAlign||wf(n,e);return{xAlign:e.xAlign||t.xAlign||Df(n,t,e,s),yAlign:s}}function Mf(n,t){let{x:e,width:s}=n;return"right"===t?e-=s:"center"===t&&(e-=s/2),e}function kf(n,t,e){let{y:s,height:i}=n;return"top"===t?s+=e:s-="bottom"===t?i+e:i/2,s}function ia(n,t,e,s){const{caretSize:i,caretPadding:o,cornerRadius:a}=n,{xAlign:r,yAlign:c}=e,h=i+o,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:p}=te(a);let b=Mf(t,r);const x=kf(t,c,h);return"center"===c?"left"===r?b+=h:"right"===r&&(b-=h):"left"===r?b-=Math.max(d,g)+i:"right"===r&&(b+=Math.max(f,p)+i),{x:nt(b,0,s.width-t.width),y:nt(x,0,s.height-t.height)}}function ys(n,t,e){const s=tt(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-s.right:n.x+s.left}function na(n){return vt([],Ot(n))}function Of(n,t,e){return qt(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function oa(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const aa={beforeTitle:Mt,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Mt,beforeBody:Mt,beforeLabel:Mt,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return B(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Mt,afterBody:Mt,beforeFooter:Mt,footer:Mt,afterFooter:Mt};function rt(n,t,e,s){const i=n[t].call(e,s);return typeof i>"u"?aa[t].call(e,s):i}class ra extends ft{static positioners=He;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&e.options.animation&&s.animations,o=new Us(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Of(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,i=rt(s,"beforeTitle",this,t),o=rt(s,"title",this,t),a=rt(s,"afterTitle",this,t);let r=[];return r=vt(r,Ot(i)),r=vt(r,Ot(o)),r=vt(r,Ot(a)),r}getBeforeBody(t,e){return na(rt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,i=[];return H(t,o=>{const a={before:[],lines:[],after:[]},r=oa(s,o);vt(a.before,Ot(rt(r,"beforeLabel",this,o))),vt(a.lines,rt(r,"label",this,o)),vt(a.after,Ot(rt(r,"afterLabel",this,o))),i.push(a)}),i}getAfterBody(t,e){return na(rt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,i=rt(s,"beforeFooter",this,t),o=rt(s,"footer",this,t),a=rt(s,"afterFooter",this,t);let r=[];return r=vt(r,Ot(i)),r=vt(r,Ot(o)),r=vt(r,Ot(a)),r}_createItems(t){const e=this._active,s=this.chart.data,i=[],o=[],a=[];let c,h,r=[];for(c=0,h=e.length;c<h;++c)r.push(Sf(this.chart,e[c]));return t.filter&&(r=r.filter((d,f,g)=>t.filter(d,f,g,s))),t.itemSort&&(r=r.sort((d,f)=>t.itemSort(d,f,s))),H(r,d=>{const f=oa(t.callbacks,d);i.push(rt(f,"labelColor",this,d)),o.push(rt(f,"labelPointStyle",this,d)),a.push(rt(f,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=r,r}update(t,e){const s=this.options.setContext(this.getContext()),i=this._active;let o,a=[];if(i.length){const r=He[s.position].call(this,i,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const c=this._size=ea(this,s),h=Object.assign({},r,c),d=sa(this.chart,s,h),f=ia(s,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:r.x,caretY:r.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,i){const o=this.getCaretPosition(t,s,i);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,s){const{xAlign:i,yAlign:o}=this,{caretSize:a,cornerRadius:r}=s,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:f}=te(r),{x:g,y:p}=t,{width:b,height:x}=e;let y,E,v,S,w,T;return"center"===o?(w=p+x/2,"left"===i?(y=g,E=y-a,S=w+a,T=w-a):(y=g+b,E=y+a,S=w-a,T=w+a),v=y):(E="left"===i?g+Math.max(c,d)+a:"right"===i?g+b-Math.max(h,f)-a:this.caretX,"top"===o?(S=p,w=S-a,y=E-a,v=E+a):(S=p+x,w=S+a,y=E+a,v=E-a),T=S),{x1:y,x2:E,x3:v,y1:S,y2:w,y3:T}}drawTitle(t,e,s){const i=this.title,o=i.length;let a,r,c;if(o){const h=_e(s.rtl,this.x,this.width);for(t.x=ys(this,s.titleAlign,s),e.textAlign=h.textAlign(s.titleAlign),e.textBaseline="middle",a=J(s.titleFont),r=s.titleSpacing,e.fillStyle=s.titleColor,e.font=a.string,c=0;c<o;++c)e.fillText(i[c],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r,c+1===o&&(t.y+=s.titleMarginBottom-r)}}_drawColorBox(t,e,s,i,o){const a=this.labelColors[s],r=this.labelPointStyles[s],{boxHeight:c,boxWidth:h,boxPadding:d}=o,f=J(o.bodyFont),g=ys(this,"left",o),p=i.x(g),x=e.y+(c<f.lineHeight?(f.lineHeight-c)/2:0);if(o.usePointStyle){const y={radius:Math.min(h,c)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},E=i.leftForLtr(p,h)+h/2,v=x+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,js(t,y,E,v),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,js(t,y,E,v)}else{t.lineWidth=K(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const y=i.leftForLtr(p,h-d),E=i.leftForLtr(i.xPlus(p,1),h-d-2),v=te(a.borderRadius);Object.values(v).some(S=>0!==S)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,ke(t,{x:y,y:x,w:h,h:c,radius:v}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),ke(t,{x:E,y:x+1,w:h-2,h:c-2,radius:v}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(y,x,h,c),t.strokeRect(y,x,h,c),t.fillStyle=a.backgroundColor,t.fillRect(E,x+1,h-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:i}=this,{bodySpacing:o,bodyAlign:a,displayColors:r,boxHeight:c,boxWidth:h,boxPadding:d}=s,f=J(s.bodyFont);let g=f.lineHeight,p=0;const b=_e(s.rtl,this.x,this.width),x=function(O){e.fillText(O,b.x(t.x+p),t.y+g/2),t.y+=g+o},y=b.textAlign(a);let E,v,S,w,T,L,D;for(e.textAlign=a,e.textBaseline="middle",e.font=f.string,t.x=ys(this,y,s),e.fillStyle=s.bodyColor,H(this.beforeBody,x),p=r&&"right"!==y?"center"===a?h/2+d:h+2+d:0,w=0,L=i.length;w<L;++w){for(E=i[w],v=this.labelTextColors[w],e.fillStyle=v,H(E.before,x),S=E.lines,r&&S.length&&(this._drawColorBox(e,t,w,b,s),g=Math.max(f.lineHeight,c)),T=0,D=S.length;T<D;++T)x(S[T]),g=f.lineHeight;H(E.after,x)}p=0,g=f.lineHeight,H(this.afterBody,x),t.y-=o}drawFooter(t,e,s){const i=this.footer,o=i.length;let a,r;if(o){const c=_e(s.rtl,this.x,this.width);for(t.x=ys(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=c.textAlign(s.footerAlign),e.textBaseline="middle",a=J(s.footerFont),e.fillStyle=s.footerColor,e.font=a.string,r=0;r<o;++r)e.fillText(i[r],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+s.footerSpacing}}drawBackground(t,e,s,i){const{xAlign:o,yAlign:a}=this,{x:r,y:c}=t,{width:h,height:d}=s,{topLeft:f,topRight:g,bottomLeft:p,bottomRight:b}=te(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(r+f,c),"top"===a&&this.drawCaret(t,e,s,i),e.lineTo(r+h-g,c),e.quadraticCurveTo(r+h,c,r+h,c+g),"center"===a&&"right"===o&&this.drawCaret(t,e,s,i),e.lineTo(r+h,c+d-b),e.quadraticCurveTo(r+h,c+d,r+h-b,c+d),"bottom"===a&&this.drawCaret(t,e,s,i),e.lineTo(r+p,c+d),e.quadraticCurveTo(r,c+d,r,c+d-p),"center"===a&&"left"===o&&this.drawCaret(t,e,s,i),e.lineTo(r,c+f),e.quadraticCurveTo(r,c,r+f,c),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,i=s&&s.x,o=s&&s.y;if(i||o){const a=He[t.position].call(this,this._active,this._eventPosition);if(!a)return;const r=this._size=ea(this,t),c=Object.assign({},a,this._size),h=sa(e,t,c),d=ia(t,c,h,e);(i._to!==d.x||o._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=r.width,this.height=r.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=tt(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,i,e),vn(t,e.textDirection),o.y+=a.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),An(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,i=t.map(({datasetIndex:r,index:c})=>{const h=this.chart.getDatasetMeta(r);if(!h)throw new Error("Cannot find a dataset at index "+r);return{datasetIndex:r,element:h.data[c],index:c}}),o=!ls(s,i),a=this._positionChanged(i,e);(o||a)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],a=this._getActiveElements(t,o,e,s),r=this._positionChanged(a,t),c=e||!ls(a,o)||r;return c&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,s,i){const o=this.options;if("mouseout"===t.type)return[];if(!i)return e;const a=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:s,caretY:i,options:o}=this,a=He[o.position].call(this,t,e);return!1!==a&&(s!==a.x||i!==a.y)}}var la={id:"tooltip",_element:ra,positioners:He,afterInit(n,t,e){e&&(n.tooltip=new ra({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:aa},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ca=Object.freeze({__proto__:null,Colors:$o,Decimation:zo,Filler:Xo,Legend:Jo,SubTitle:ta,Title:Zo,Tooltip:la});const Lf=(n,t,e,s)=>("string"==typeof t?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Pf(n,t,e,s){const i=n.indexOf(t);return-1===i?Lf(n,t,e,s):i!==n.lastIndexOf(t)?e:i}const Nf=(n,t)=>null===n?null:nt(Math.round(n),0,t);function ha(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class da extends Ht{static id="category";static defaults={ticks:{callback:ha}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:i,label:o}of e)s[i]===o&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(B(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:Pf(s,t,V(e,t),this._addedLabels),Nf(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(s=0),e||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,i=[];let o=this.getLabels();o=0===t&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=t;a<=e;a++)i.push({value:a});return i}getLabelForValue(t){return ha.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function If(n,t){const e=[],{bounds:i,step:o,min:a,max:r,precision:c,count:h,maxTicks:d,maxDigits:f,includeBounds:g}=n,p=o||1,b=d-1,{min:x,max:y}=t,E=!B(a),v=!B(r),S=!B(h),w=(y-x)/(f+1);let L,D,O,P,T=Sn((y-x)/b/p)*p;if(T<1e-14&&!E&&!v)return[{value:x},{value:y}];P=Math.ceil(y/T)-Math.floor(x/T),P>b&&(T=Sn(P*T/b/p)*p),B(c)||(L=Math.pow(10,c),T=Math.ceil(T*L)/L),"ticks"===i?(D=Math.floor(x/T)*T,O=Math.ceil(y/T)*T):(D=x,O=y),E&&v&&o&&Xh((r-a)/o,T/1e3)?(P=Math.round(Math.min((r-a)/T,d)),T=(r-a)/P,D=a,O=r):S?(D=E?a:D,O=v?r:O,P=h-1,T=(O-D)/P):(P=(O-D)/T,P=Ys(P,Math.round(P),T/1e3)?Math.round(P):Math.ceil(P));const I=Math.max(wn(T),wn(D));L=Math.pow(10,B(c)?I:c),D=Math.round(D*L)/L,O=Math.round(O*L)/L;let N=0;for(E&&(g&&D!==a?(e.push({value:a}),D<a&&N++,Ys(Math.round((D+N*T)*L)/L,a,ua(a,w,n))&&N++):D<a&&N++);N<P;++N)e.push({value:Math.round((D+N*T)*L)/L});return v&&g&&O!==r?e.length&&Ys(e[e.length-1].value,r,ua(r,w,n))?e[e.length-1].value=r:e.push({value:r}):(!v||O===r)&&e.push({value:O}),e}function ua(n,t,{horizontal:e,minRotation:s}){const i=bt(s),o=(e?Math.sin(i):Math.cos(i))||.001;return Math.min(t/o,.75*t*(""+n).length)}class Es extends Ht{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return B(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this;const a=c=>i=e?i:c,r=c=>o=s?o:c;if(t){const c=Ft(i),h=Ft(o);c<0&&h<0?r(0):c>0&&h>0&&a(0)}if(i===o){let c=0===o?1:Math.abs(.05*o);r(o+c),t||a(i-c)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let i,{maxTicksLimit:e,stepSize:s}=t;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a=If({maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Tn(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-e)/Math.max(t.length-1,1)/2;e-=i,s+=i}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return ss(t,this.chart.options.locale,this.options.ticks.format)}}class fa extends Es{static id="linear";static defaults={ticks:{callback:Ks.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=G(t)?t:0,this.max=G(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=bt(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const We=n=>Math.floor(Le(n)),se=(n,t)=>Math.pow(10,We(n)+t);function ga(n){return n/Math.pow(10,We(n))==1}function pa(n,t,e){const s=Math.pow(10,e),i=Math.floor(n/s);return Math.ceil(t/s)-i}function Rf(n,t){let s=We(t-n);for(;pa(n,t,s)>10;)s++;for(;pa(n,t,s)<10;)s--;return Math.min(s,We(n))}function $f(n,{min:t,max:e}){t=dt(n.min,t);const s=[],i=We(t);let o=Rf(t,e),a=o<0?Math.pow(10,Math.abs(o)):1;const r=Math.pow(10,o),c=i>o?Math.pow(10,i):0,h=Math.round((t-c)*a)/a,d=Math.floor((t-c)/r/10)*r*10;let f=Math.floor((h-d)/Math.pow(10,o)),g=dt(n.min,Math.round((c+d+f*Math.pow(10,o))*a)/a);for(;g<e;)s.push({value:g,major:ga(g),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(o++,f=2,a=o>=0?1:a),g=Math.round((c+d+f*Math.pow(10,o))*a)/a;const p=dt(n.max,g);return s.push({value:p,major:ga(p),significand:f}),s}class _a extends Ht{static id="logarithmic";static defaults={ticks:{callback:Ks.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=Es.prototype.parse.apply(this,[t,e]);if(0!==s)return G(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=G(t)?Math.max(0,t):null,this.max=G(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!G(this._userMin)&&(this.min=t===se(this.min,0)?se(this.min,-1):se(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,i=this.max;const o=r=>s=t?s:r,a=r=>i=e?i:r;s===i&&(s<=0?(o(1),a(10)):(o(se(s,-1)),a(se(i,1)))),s<=0&&o(se(i,-1)),i<=0&&a(se(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,s=$f({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Tn(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return void 0===t?"0":ss(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Le(t),this._valueRange=Le(this.max)-Le(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Le(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function di(n){const t=n.ticks;if(t.display&&n.display){const e=tt(t.backdropPadding);return V(t.font&&t.font.size,X.font.size)+e.height}return 0}function Vf(n,t,e){return e=at(e)?e:[e],{w:Gh(n,t.string,e),h:e.length*t.lineHeight}}function ma(n,t,e,s,i){return n===s||n===i?{start:t-e/2,end:t+e/2}:n<s||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function Ff(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),s=[],i=[],o=n._pointLabels.length,a=n.options.pointLabels,r=a.centerPointLabels?Dt/o:0;for(let c=0;c<o;c++){const h=a.setContext(n.getPointLabelContext(c));i[c]=h.padding;const d=n.getPointPosition(c,n.drawingArea+i[c],r),f=J(h.font),g=Vf(n.ctx,f,n._pointLabels[c]);s[c]=g;const p=Oe(n.getIndexAngle(c)+r),b=Math.round(Hs(p));zf(e,t,p,ma(b,d.x,g.w,0,180),ma(b,d.y,g.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Bf(n,s,i)}function zf(n,t,e,s,i){const o=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let r=0,c=0;s.start<t.l?(r=(t.l-s.start)/o,n.l=Math.min(n.l,t.l-r)):s.end>t.r&&(r=(s.end-t.r)/o,n.r=Math.max(n.r,t.r+r)),i.start<t.t?(c=(t.t-i.start)/a,n.t=Math.min(n.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/a,n.b=Math.max(n.b,t.b+c))}function Bf(n,t,e){const s=[],i=n._pointLabels.length,o=n.options,a=di(o)/2,r=n.drawingArea,c=o.pointLabels.centerPointLabels?Dt/i:0;for(let h=0;h<i;h++){const d=n.getPointPosition(h,r+a+e[h],c),f=Math.round(Hs(Oe(d.angle+ut))),g=t[h],p=jf(d.y,g.h,f),b=Hf(f),x=Wf(d.x,g.w,b);s.push({x:d.x,y:p,textAlign:b,left:x,top:p,right:x+g.w,bottom:p+g.h})}return s}function Hf(n){return 0===n||180===n?"center":n<180?"left":"right"}function Wf(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function jf(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function Yf(n,t){const{ctx:e,options:{pointLabels:s}}=n;for(let i=t-1;i>=0;i--){const o=s.setContext(n.getPointLabelContext(i)),a=J(o.font),{x:r,y:c,textAlign:h,left:d,top:f,right:g,bottom:p}=n._pointLabelItems[i],{backdropColor:b}=o;if(!B(b)){const x=te(o.borderRadius),y=tt(o.backdropPadding);e.fillStyle=b;const E=d-y.left,v=f-y.top,S=g-d+y.width,w=p-f+y.height;Object.values(x).some(T=>0!==T)?(e.beginPath(),ke(e,{x:E,y:v,w:S,h:w,radius:x}),e.fill()):e.fillRect(E,v,S,w)}Zt(e,n._pointLabels[i],r,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function ba(n,t,e,s){const{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,it);else{let o=n.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let a=1;a<s;a++)o=n.getPointPosition(a,t),i.lineTo(o.x,o.y)}}function Kf(n,t,e,s,i){const o=n.ctx,a=t.circular,{color:r,lineWidth:c}=t;!a&&!s||!r||!c||e<0||(o.save(),o.strokeStyle=r,o.lineWidth=c,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),ba(n,e,a,s),o.closePath(),o.stroke(),o.restore())}function Uf(n,t,e){return qt(n,{label:e,index:t,type:"pointLabel"})}class xa extends Es{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=tt(di(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=G(t)&&!isNaN(t)?t:0,this.max=G(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/di(this.options))}generateTickLabels(t){Es.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{const i=j(this.options.pointLabels.callback,[e,s],this);return i||0===i?i:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?Ff(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,i))}getIndexAngle(t){return Oe(t*(it/(this._pointLabels.length||1))+bt(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(B(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(B(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return Uf(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const i=this.getIndexAngle(t)-ut+s;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:i,bottom:o}=this._pointLabelItems[t];return{left:e,top:s,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),ba(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:i,border:o}=e,a=this._pointLabels.length;let r,c,h;if(e.pointLabels.display&&Yf(this,a),i.display&&this.ticks.forEach((d,f)=>{if(0!==f){c=this.getDistanceFromCenterForValue(d.value);const g=this.getContext(f),p=i.setContext(g),b=o.setContext(g);Kf(this,p,c,a,b)}}),s.display){for(t.save(),r=a-1;r>=0;r--){const d=s.setContext(this.getPointLabelContext(r)),{color:f,lineWidth:g}=d;!g||!f||(t.lineWidth=g,t.strokeStyle=f,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),h=this.getPointPosition(r,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((r,c)=>{if(0===c&&!e.reverse)return;const h=s.setContext(this.getContext(c)),d=J(h.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),h.showLabelBackdrop){t.font=d.string,a=t.measureText(r.label).width,t.fillStyle=h.backdropColor;const f=tt(h.backdropPadding);t.fillRect(-a/2-f.left,-o-d.size/2-f.top,a+f.width,d.size+f.height)}Zt(t,r.label,0,-o,d,{color:h.color})}),t.restore()}drawTitle(){}}const vs={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lt=Object.keys(vs);function Xf(n,t){return n-t}function ya(n,t){if(B(t))return null;const e=n._adapter,{parser:s,round:i,isoWeekday:o}=n._parseOpts;let a=t;return"function"==typeof s&&(a=s(a)),G(a)||(a="string"==typeof s?e.parse(a,s):e.parse(a)),null===a?null:(i&&(a="week"!==i||!ge(o)&&!0!==o?e.startOf(a,i):e.startOf(a,"isoWeek",o)),+a)}function Ea(n,t,e,s){const i=lt.length;for(let o=lt.indexOf(n);o<i-1;++o){const a=vs[lt[o]];if(a.common&&Math.ceil((e-t)/((a.steps?a.steps:Number.MAX_SAFE_INTEGER)*a.size))<=s)return lt[o]}return lt[i-1]}function Gf(n,t,e,s,i){for(let o=lt.length-1;o>=lt.indexOf(e);o--){const a=lt[o];if(vs[a].common&&n._adapter.diff(i,s,a)>=t-1)return a}return lt[e?lt.indexOf(e):0]}function qf(n){for(let t=lt.indexOf(n)+1,e=lt.length;t<e;++t)if(vs[lt[t]].common)return lt[t]}function va(n,t,e){if(e){if(e.length){const{lo:s,hi:i}=Qh(e,t);n[e[s]>=t?e[s]:e[i]]=!0}}else n[t]=!0}function Qf(n,t,e,s){const i=n._adapter,o=+i.startOf(t[0].value,s),a=t[t.length-1].value;let r,c;for(r=o;r<=a;r=+i.add(r,1,s))c=e[r],c>=0&&(t[c].major=!0);return t}function Aa(n,t,e){const s=[],i={},o=t.length;let a,r;for(a=0;a<o;++a)r=t[a],i[r]=a,s.push({value:r,major:!1});return 0!==o&&e?Qf(n,s,i,e):s}class As extends Ht{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),i=this._adapter=new Un._date(t.adapters.date);i.init(e),rs(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:ya(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:i,max:o,minDefined:a,maxDefined:r}=this.getUserBounds();function c(h){!a&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!r&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!a||!r)&&(c(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&c(this.getMinMax(!1))),i=G(i)&&!isNaN(i)?i:+e.startOf(Date.now(),s),o=G(o)&&!isNaN(o)?o:+e.endOf(Date.now(),s)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,i="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=qh(i,o,this.max);return this._unit=e.unit||(s.autoSkip?Ea(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):Gf(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?qf(this._unit):void 0,this.initOffsets(i),t.reverse&&r.reverse(),Aa(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i,o,e=0,s=0;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),e=1===t.length?1-i:(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),s=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=nt(e,0,a),s=nt(s,0,a),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,i=this.options,o=i.time,a=o.unit||Ea(o.minUnit,e,s,this._getLabelCapacity(e)),r=V(i.ticks.stepSize,1),c="week"===a&&o.isoWeekday,h=ge(c)||!0===c,d={};let g,p,f=e;if(h&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,h?"day":a),t.diff(s,e,a)>1e5*r)throw new Error(e+" and "+s+" are too far apart with stepSize of "+r+" "+a);const b="data"===i.ticks.source&&this.getDataTimestamps();for(g=f,p=0;g<s;g=+t.add(g,r,a),p++)va(d,g,b);return(g===s||"ticks"===i.bounds||1===p)&&va(d,g,b),Object.keys(d).sort((x,y)=>x-y).map(x=>+x)}getLabelForValue(t){const s=this.options.time;return this._adapter.format(t,s.tooltipFormat?s.tooltipFormat:s.displayFormats.datetime)}format(t,e){return this._adapter.format(t,e||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,e,s,i){const o=this.options,a=o.ticks.callback;if(a)return j(a,[t,e,s],this);const r=o.time.displayFormats,c=this._unit,h=this._majorUnit,f=h&&r[h],g=s[e];return this._adapter.format(t,i||(h&&f&&g&&g.major?f:c&&r[c]))}generateTickLabels(t){let e,s,i;for(e=0,s=t.length;e<s;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,i=bt(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(i),a=Math.sin(i),r=this._resolveTickFontOptions(0).size;return{w:s*o+r*a,h:s*a+r*o}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,i=s[e.unit]||s.millisecond,o=this._tickFormatFunction(t,0,Aa(this,[t],this._majorUnit),i),a=this._getLabelSize(o),r=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return r>0?r:1}getDataTimestamps(){let e,s,t=this._cache.data||[];if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,s=i.length;e<s;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const i=this.getLabels();for(e=0,s=i.length;e<s;++e)t.push(ya(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return an(t.sort(Xf))}}function Ts(n,t,e){let o,a,r,c,s=0,i=n.length-1;e?(t>=n[s].pos&&t<=n[i].pos&&({lo:s,hi:i}=Me(n,"pos",t)),({pos:o,time:r}=n[s]),({pos:a,time:c}=n[i])):(t>=n[s].time&&t<=n[i].time&&({lo:s,hi:i}=Me(n,"time",t)),({time:o,pos:r}=n[s]),({time:a,pos:c}=n[i]));const h=a-o;return h?r+(c-r)*(t-o)/h:r}class Ta extends As{static id="timeseries";static defaults=As.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ts(e,this.min),this._tableRange=Ts(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,i=[],o=[];let a,r,c,h,d;for(a=0,r=t.length;a<r;++a)h=t[a],h>=e&&h<=s&&i.push(h);if(i.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(a=0,r=i.length;a<r;++a)d=i[a+1],c=i[a-1],h=i[a],Math.round((d+c)/2)!==h&&o.push({time:h,pos:a/(r-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return t=e.length&&s.length?this.normalize(e.concat(s)):e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Ts(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return Ts(this._table,s*this._tableRange+this._minPos,!0)}}var Sa=Object.freeze({__proto__:null,CategoryScale:da,LinearScale:fa,LogarithmicScale:_a,RadialLinearScale:xa,TimeScale:As,TimeSeriesScale:Ta});const Jf=[Kn,Lo,ca,Sa];export{Dn as Animation,Us as Animations,So as ArcElement,zn as BarController,Oo as BarElement,ti as BasePlatform,eo as BasicPlatform,Bn as BubbleController,da as CategoryScale,Ao as Chart,$o as Colors,kt as DatasetController,zo as Decimation,ao as DomPlatform,cs as DoughnutController,ft as Element,Xo as Filler,Gn as Interaction,Jo as Legend,Hn as LineController,Be as LineElement,fa as LinearScale,_a as LogarithmicScale,Wn as PieController,Mo as PointElement,Qs as PolarAreaController,jn as RadarController,xa as RadialLinearScale,Ht as Scale,Yn as ScatterController,ta as SubTitle,As as TimeScale,Ta as TimeSeriesScale,Zo as Title,la as Tooltip,Un as _adapters,ro as _detectPlatform,Et as animator,Kn as controllers,Lo as elements,Z as layouts,ca as plugins,Jf as registerables,xt as registry,Sa as scales};