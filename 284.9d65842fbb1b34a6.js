"use strict";(self.webpackChunkskilltracker=self.webpackChunkskilltracker||[]).push([[284],{1284:(A,d,n)=>{n.r(d),n.d(d,{AccountModule:()=>a});var g=n(6895),p=n(6773),e=n(433),t=n(8256),m=n(4004),h=n(2340),f=n(529),v=n(7095);class s{constructor(o,r,u){this.http=o,this.auth=r,this.router=u,this.baseUrl=h.N.apiUrl}login(o){return this.http.post(this.baseUrl+"account/login",o).pipe((0,m.U)(r=>{r&&(this.auth.loadUserData(r.token),this.router.navigateByUrl("/home"))}))}}s.\u0275fac=function(o){return new(o||s)(t.LFG(f.eN),t.LFG(v.e),t.LFG(p.F0))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"});var y=n(7185),x=n(5593);class l{constructor(o,r,u){this.fb=o,this.accountService=r,this.toastr=u}ngOnInit(){this.userLoginForm=this.fb.group({email:["",e.kI.required],password:["",e.kI.required]})}onLogin(){this.accountService.login(this.userLoginForm.value).subscribe({next:()=>{this.toastr.success("Succesfully logged in","Success")},error:o=>{this.toastr.error("An error occured, please try again","Failed"),console.log(o)}})}}l.\u0275fac=function(o){return new(o||l)(t.Y36(e.qu),t.Y36(s),t.Y36(y._W))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-login"]],decls:8,vars:1,consts:[[1,"d-flex","justify-content-center"],[3,"formGroup"],[1,"d-flex","justify-content-center","login-text"],["type","text","formControlName","email","placeholder","email"],["type","password","formControlName","password","placeholder","passowrd"],[1,"button-container"],["pButton","","type","button","label","Autentificare",1,"p-button",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"h2",2),t._uU(3,"Login"),t.qZA(),t._UZ(4,"input",3)(5,"input",4),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return r.onLogin()}),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("formGroup",r.userLoginForm))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,x.Hq],styles:["form[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:300px;height:300px;margin:auto;position:absolute;inset:0;border-radius:10px;padding:50px;border:1px solid grey;box-shadow:3px 0 3px 2px gray}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}input[_ngcontent-%COMP%]{margin:10px;border-radius:5px;border:1px solid grey}.test[_ngcontent-%COMP%]{color:red}.login-text[_ngcontent-%COMP%]{margin-bottom:30px}"]});const C=[{path:"login",component:l},{path:"",redirectTo:"login",pathMatch:"full"}];class c{}c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[p.Bz.forChild(C),p.Bz]});var L=n(4466);class a{}a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[g.ez,c,L.m]})}}]);